<?xml version="1.0" encoding="utf-8"?>
<WorkflowBuilder Version="2.8.1"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xmlns:rx="clr-namespace:Bonsai.Reactive;assembly=Bonsai.Core"
                 xmlns:scr="clr-namespace:Bonsai.Scripting.Expressions;assembly=Bonsai.Scripting.Expressions"
                 xmlns:dsp="clr-namespace:Bonsai.Dsp;assembly=Bonsai.Dsp"
                 xmlns:sys="clr-namespace:System;assembly=mscorlib"
                 xmlns:p1="clr-namespace:Bonsai.Numerics.Distributions;assembly=Bonsai.Numerics"
                 xmlns:p2="clr-namespace:CF;assembly=Extensions"
                 xmlns:p3="clr-namespace:Harp.SoundCard;assembly=Harp.SoundCard"
                 xmlns:harp="clr-namespace:Bonsai.Harp;assembly=Bonsai.Harp"
                 xmlns:pump="clr-namespace:Harp.SyringePump;assembly=Harp.SyringePump"
                 xmlns:beh="clr-namespace:Harp.Behavior;assembly=Harp.Behavior"
                 xmlns:num="clr-namespace:Bonsai.Numerics;assembly=Bonsai.Numerics"
                 xmlns:p4="clr-namespace:Harp.CurrentDriver;assembly=Harp.CurrentDriver"
                 xmlns:spk="clr-namespace:Bonsai.Spinnaker;assembly=Bonsai.Spinnaker"
                 xmlns:p5="clr-namespace:Output;assembly=Extensions"
                 xmlns:p6="clr-namespace:;assembly=Extensions"
                 xmlns:cv="clr-namespace:Bonsai.Vision;assembly=Bonsai.Vision"
                 xmlns:io="clr-namespace:Bonsai.IO;assembly=Bonsai.System"
                 xmlns:p7="clr-namespace:Config;assembly=Extensions"
                 xmlns:p8="clr-namespace:Animal;assembly=Extensions"
                 xmlns:p9="clr-namespace:Training;assembly=Extensions"
                 xmlns:p10="clr-namespace:SetupList;assembly=Extensions"
                 xmlns:p11="clr-namespace:PrintDict;assembly=Extensions"
                 xmlns:gui="clr-namespace:Bonsai.Gui;assembly=Bonsai.Gui"
                 xmlns:zg="clr-namespace:Bonsai.Gui.ZedGraph;assembly=Bonsai.Gui.ZedGraph"
                 xmlns="https://bonsai-rx.org/2018/workflow">
  <Workflow>
    <Nodes>
      <Expression xsi:type="GroupWorkflow">
        <Name>Utils</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>UpdateSubjects</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>TrialBeginning</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>ResetSubjects</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>NewTrialRequest</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="DoubleProperty">
                                  <Value>NaN</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimeToCNP</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedOptoOnset</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedSoundOnset</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedRT</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedMT</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedLNP</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>LEDStart</Name>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>ResponsePoke</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>LevelDependantSettings</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>NewTrialRequest</Name>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>TrialsCompleted == TrialsPerBlock</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>TrialsCompleted</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>TrialsPerBlock</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThanOrEqual" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CriticalPerformance.UsePerformance</Selector>
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>BlockPerformance</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CriticalPerformance.Value</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThanOrEqual" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CriticalPerformance.UsePerformance</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalOr" />
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="19" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="17" Label="Source1" />
                                    <Edge From="8" To="11" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source1" />
                                    <Edge From="10" To="11" Label="Source2" />
                                    <Edge From="11" To="12" Label="Source1" />
                                    <Edge From="12" To="15" Label="Source1" />
                                    <Edge From="13" To="14" Label="Source1" />
                                    <Edge From="14" To="15" Label="Source2" />
                                    <Edge From="15" To="16" Label="Source1" />
                                    <Edge From="16" To="17" Label="Source2" />
                                    <Edge From="17" To="18" Label="Source1" />
                                    <Edge From="18" To="19" Label="Source2" />
                                    <Edge From="19" To="20" Label="Source1" />
                                    <Edge From="20" To="21" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>StartNewBlock</Name>
                                <Description>Resets every block subject (variable) and updates the training level if needed</Description>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>UpdateBlockNumber</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Block</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Add">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>Block</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Delay">
                                        <rx:DueTime>PT0.1S</rx:DueTime>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>UpdateTrainingLevelCondition</Name>
                                      <Description>!UsePerformance || (UsePerformance &amp;&amp; (BlockPerformance &gt;= CriticalPerformance) &amp;&amp; (TrainingLevel &lt; NumLevels))</Description>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TrainingLevel</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TrainingConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Levels.Count</Selector>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>AnimalConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Session.LastTrainingLevel</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Zip" />
                                          </Expression>
                                          <Expression xsi:type="scr:ExpressionTransform">
                                            <scr:Expression>Math.Min(Item1, Item2)</scr:Expression>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="LessThan" />
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="7" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="5" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source2" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source2" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>UpdateTrainingLevel</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TrainingLevel</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Add">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>TrainingLevel</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>!UpdateTrainingLevelCondition</Name>
                                      <Description>!(!UsePerformance || (UsePerformance &amp;&amp; (BlockPerformance &gt;= CriticalPerformance) &amp;&amp; (TrainingLevel &lt; NumLevels)))</Description>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TrainingLevel</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TrainingConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Levels.Count</Selector>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>AnimalConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Session.LastTrainingLevel</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Zip" />
                                          </Expression>
                                          <Expression xsi:type="scr:ExpressionTransform">
                                            <scr:Expression>Math.Min(Item1, Item2)</scr:Expression>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="GreaterThanOrEqual" />
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="7" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="5" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source2" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source2" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>ResetBlockSubjects</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="DoubleProperty">
                                              <Value>0</Value>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>RightAnswers</Name>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>TrialsCompleted</Name>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>BlockPerformance</Name>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>TrialsAborted</Name>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>BlockAbortRatio</Name>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>BlockTrial</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="1" To="5" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="6" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source2" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>true</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>TrialsCompleted != TrialsPerBlock</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>TrialsCompleted</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>TrialsPerBlock</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThanOrEqual" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CriticalPerformance.UsePerformance</Selector>
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>BlockPerformance</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CriticalPerformance.Value</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThanOrEqual" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CriticalPerformance.UsePerformance</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalOr" />
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="19" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="17" Label="Source1" />
                                    <Edge From="8" To="11" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source1" />
                                    <Edge From="10" To="11" Label="Source2" />
                                    <Edge From="11" To="12" Label="Source1" />
                                    <Edge From="12" To="15" Label="Source1" />
                                    <Edge From="13" To="14" Label="Source1" />
                                    <Edge From="14" To="15" Label="Source2" />
                                    <Edge From="15" To="16" Label="Source1" />
                                    <Edge From="16" To="17" Label="Source2" />
                                    <Edge From="17" To="18" Label="Source1" />
                                    <Edge From="18" To="19" Label="Source2" />
                                    <Edge From="19" To="20" Label="Source1" />
                                    <Edge From="20" To="21" Label="Source1" />
                                    <Edge From="21" To="22" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>UpdateTrialNumbers</Name>
                                <Description>Updates the total trial number and the block trial number</Description>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>UpdateTrialNumber</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Trial</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Add">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>Trial</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>UpdateBlockTrialNumber</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>BlockTrial</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Add">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>BlockTrial</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>FixationTime</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>IntendedOptoOnsetTime</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>RepeatTrial == 0</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>RepeatTrial</Name>
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="BooleanProperty">
                                                    <Value>false</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>RandomOptoOnsetTime</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>OptoOnsetExponentialDistribution</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>LevelConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>FixationTime.OptoExpMean</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="dsp:Pow">
                                                          <dsp:Power>-1</dsp:Power>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>Random</Name>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:WithLatestFrom" />
                                                      </Expression>
                                                      <Expression xsi:type="InputMapping">
                                                        <PropertyMappings>
                                                          <Property Name="Rate" Selector="Item1" />
                                                        </PropertyMappings>
                                                        <Selector>Item2</Selector>
                                                        <TypeMapping xsi:type="TypeMapping" TypeArguments="sys:Random" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="p1:CreateExponential">
                                                          <p1:Rate>INF</p1:Rate>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="4" Label="Source1" />
                                                      <Edge From="3" To="4" Label="Source2" />
                                                      <Edge From="4" To="5" Label="Source1" />
                                                      <Edge From="5" To="6" Label="Source1" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:WithLatestFrom" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item2</Selector>
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>RandomizeFT</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>LevelConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>FixationTime.OptoExpMean</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="NotEqual">
                                                        <Operand xsi:type="DoubleProperty">
                                                          <Value>0</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:Sample" />
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>!RandomizeFT</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>LevelConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>FixationTime.OptoExpMean</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Equal">
                                                        <Operand xsi:type="DoubleProperty">
                                                          <Value>0</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="DoubleProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="3" To="6" Label="Source1" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="8" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="8" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>BaseOptoOnset</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="Add" />
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>IntendedOptoOnset</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="4" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source2" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>IntendedSoundOnsetTime</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>RepeatTrial == 0</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>RepeatTrial</Name>
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="BooleanProperty">
                                                    <Value>false</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>RandomSoundOnsetTime</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>SoundOnsetExponentialDistribution</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>LevelConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>FixationTime.SoundExpMean</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="dsp:Pow">
                                                          <dsp:Power>-1</dsp:Power>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>Random</Name>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:WithLatestFrom" />
                                                      </Expression>
                                                      <Expression xsi:type="InputMapping">
                                                        <PropertyMappings>
                                                          <Property Name="Rate" Selector="Item1" />
                                                        </PropertyMappings>
                                                        <Selector>Item2</Selector>
                                                        <TypeMapping xsi:type="TypeMapping" TypeArguments="sys:Random" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="p1:CreateExponential">
                                                          <p1:Rate>INF</p1:Rate>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="4" Label="Source1" />
                                                      <Edge From="3" To="4" Label="Source2" />
                                                      <Edge From="4" To="5" Label="Source1" />
                                                      <Edge From="5" To="6" Label="Source1" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:WithLatestFrom" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item2</Selector>
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>RandomizeFT</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>LevelConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>FixationTime.SoundExpMean</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="NotEqual">
                                                        <Operand xsi:type="DoubleProperty">
                                                          <Value>0</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:Sample" />
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>!RandomizeFT</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>LevelConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>FixationTime.SoundExpMean</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Equal">
                                                        <Operand xsi:type="DoubleProperty">
                                                          <Value>0</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="DoubleProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="3" To="6" Label="Source1" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="8" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="8" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>BaseSoundOnset</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="Add" />
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>IntendedSoundOnset</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="4" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source2" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>TrialSoundCharacteristics</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>RepeatTrial == 0</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>RepeatTrial</Name>
                                          </Expression>
                                          <Expression xsi:type="Equal">
                                            <Operand xsi:type="BooleanProperty">
                                              <Value>false</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>ABL</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>!UseFixedABL</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>LevelConfig</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Sound.Abl.UseFixedAbl</Selector>
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="BooleanProperty">
                                                    <Value>false</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>RandomABL</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>PickRandomIndex</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="GroupWorkflow">
                                                        <Name>NewABLRequest</Name>
                                                        <Workflow>
                                                          <Nodes>
                                                            <Expression xsi:type="WorkflowInput">
                                                              <Name>Source1</Name>
                                                            </Expression>
                                                            <Expression xsi:type="SubscribeSubject">
                                                              <Name>LevelConfig</Name>
                                                            </Expression>
                                                            <Expression xsi:type="MemberSelector">
                                                              <Selector>Sound.Abl.ChangeEveryTrial</Selector>
                                                            </Expression>
                                                            <Expression xsi:type="SubscribeSubject">
                                                              <Name>BlockTrial</Name>
                                                            </Expression>
                                                            <Expression xsi:type="Combinator">
                                                              <Combinator xsi:type="rx:CombineLatest" />
                                                            </Expression>
                                                            <Expression xsi:type="Combinator">
                                                              <Combinator xsi:type="rx:WithLatestFrom" />
                                                            </Expression>
                                                            <Expression xsi:type="MemberSelector">
                                                              <Selector>Item2</Selector>
                                                            </Expression>
                                                            <Expression xsi:type="scr:ExpressionCondition">
                                                              <scr:Name>ChangeEveryTrial || BlockTrial == 1</scr:Name>
                                                              <scr:Expression>Item1 || Item2 == 1</scr:Expression>
                                                            </Expression>
                                                            <Expression xsi:type="MemberSelector">
                                                              <Selector>Item1</Selector>
                                                            </Expression>
                                                            <Expression xsi:type="WorkflowOutput" />
                                                          </Nodes>
                                                          <Edges>
                                                            <Edge From="0" To="5" Label="Source1" />
                                                            <Edge From="1" To="2" Label="Source1" />
                                                            <Edge From="2" To="4" Label="Source1" />
                                                            <Edge From="3" To="4" Label="Source2" />
                                                            <Edge From="4" To="5" Label="Source2" />
                                                            <Edge From="5" To="6" Label="Source1" />
                                                            <Edge From="6" To="7" Label="Source1" />
                                                            <Edge From="7" To="8" Label="Source1" />
                                                            <Edge From="8" To="9" Label="Source1" />
                                                          </Edges>
                                                        </Workflow>
                                                      </Expression>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>AnimalConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>Sound.AblList.Count</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Subtract">
                                                        <Operand xsi:type="IntProperty">
                                                          <Value>1</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>Random</Name>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:WithLatestFrom" />
                                                      </Expression>
                                                      <Expression xsi:type="InputMapping">
                                                        <PropertyMappings>
                                                          <Property Name="Upper" Selector="Item1" />
                                                        </PropertyMappings>
                                                        <Selector>Item2</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="p1:CreateDiscreteUniform">
                                                          <p1:Lower>0</p1:Lower>
                                                          <p1:Upper>2</p1:Upper>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:WithLatestFrom" />
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>Item2</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="p1:Sample" />
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="9" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                      <Edge From="3" To="4" Label="Source1" />
                                                      <Edge From="4" To="6" Label="Source1" />
                                                      <Edge From="5" To="6" Label="Source2" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source2" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                      <Edge From="10" To="11" Label="Source1" />
                                                      <Edge From="11" To="12" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="InputMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Index" Selector="it" />
                                                  </PropertyMappings>
                                                  <Selector>it</Selector>
                                                </Expression>
                                                <Expression xsi:type="rx:SelectMany">
                                                  <Name>ABLValue</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>AnimalConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>Sound.AblList</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Value" DisplayName="Index" />
                                                      </Expression>
                                                      <Expression xsi:type="Index">
                                                        <Operand xsi:type="IntProperty">
                                                          <Value>0</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:Take">
                                                          <rx:Count>1</rx:Count>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="3" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source2" />
                                                      <Edge From="3" To="4" Label="Source1" />
                                                      <Edge From="4" To="5" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>UseFixedABL</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>LevelConfig</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Sound.Abl.UseFixedAbl</Selector>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>AnimalConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Sound.FixedAbl</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Merge" />
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>ABL</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="0" To="3" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="8" Label="Source1" />
                                          <Edge From="3" To="6" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source2" />
                                          <Edge From="6" To="7" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source2" />
                                          <Edge From="8" To="9" Label="Source1" />
                                          <Edge From="9" To="10" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>ILD</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>ForceTrialSide</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>ForcedTrialSide</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="NotEqual" />
                                                </Expression>
                                                <Expression xsi:type="NotEqual">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>0</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>ForcedTrialSide</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>!ForceTrialSide</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>ForcedTrialSide</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Equal" />
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>0</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>IsRandom</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>AnimalConfig</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Sound.PseudoRandomSide</Selector>
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="BooleanProperty">
                                                    <Value>false</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Random</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="p1:CreateDiscreteUniform">
                                              <p1:Lower>0</p1:Lower>
                                              <p1:Upper>1</p1:Upper>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="p1:Sample" />
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name />
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Equal" />
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>0</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="IntProperty">
                                              <Value>-1</Value>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Equal" />
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>1</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Merge" />
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>IsPseudoRandom</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>AnimalConfig</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Sound.PseudoRandomSide</Selector>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>SideIndex</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="rx:Sink">
                                            <Name>UpdateSideIndex</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Add">
                                                  <Operand xsi:type="DoubleProperty">
                                                    <Value>1</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>IsFinalIndex</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>AnimalConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>Sound.MaxSide</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Multiply">
                                                        <Operand xsi:type="IntProperty">
                                                          <Value>2</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:CombineLatest" />
                                                      </Expression>
                                                      <Expression xsi:type="GreaterThanOrEqual" />
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="4" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                      <Edge From="3" To="4" Label="Source2" />
                                                      <Edge From="4" To="5" Label="Source1" />
                                                      <Edge From="5" To="6" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>!IsFinalIndex</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="SubscribeSubject">
                                                        <Name>AnimalConfig</Name>
                                                      </Expression>
                                                      <Expression xsi:type="MemberSelector">
                                                        <Selector>Sound.MaxSide</Selector>
                                                      </Expression>
                                                      <Expression xsi:type="Multiply">
                                                        <Operand xsi:type="IntProperty">
                                                          <Value>2</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="rx:CombineLatest" />
                                                      </Expression>
                                                      <Expression xsi:type="LessThan" />
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="4" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                      <Edge From="2" To="3" Label="Source1" />
                                                      <Edge From="3" To="4" Label="Source2" />
                                                      <Edge From="4" To="5" Label="Source1" />
                                                      <Edge From="5" To="6" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="IntProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MulticastSubject">
                                                  <Name>NewSideArray</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="MulticastSubject">
                                                  <Name>SideIndex</Name>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="1" To="3" Label="Source1" />
                                                <Edge From="2" To="6" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source2" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="8" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="InputMapping">
                                            <PropertyMappings>
                                              <Property Name="Index" Selector="it" />
                                            </PropertyMappings>
                                            <Selector>it</Selector>
                                          </Expression>
                                          <Expression xsi:type="rx:SelectMany">
                                            <Name>GetSide</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>SideArray</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Index" />
                                                </Expression>
                                                <Expression xsi:type="Index">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>0</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Merge" />
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Merge" />
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>LeftOrRight</Name>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>IsFullyLateralized</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>LevelConfig</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Sound.Ild.FullyLateralized</Selector>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>ABL</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="rx:Sink">
                                            <Name>ModifyABL</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item2</Selector>
                                                </Expression>
                                                <Expression xsi:type="Divide">
                                                  <Operand xsi:type="DoubleProperty">
                                                    <Value>2</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="MulticastSubject">
                                                  <Name>ABL</Name>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>!IsFullyLateralized</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>LevelConfig</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Sound.Ild.FullyLateralized</Selector>
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="BooleanProperty">
                                                    <Value>false</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>PickRandomIndex</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>ILDs</Name>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Length</Selector>
                                                </Expression>
                                                <Expression xsi:type="Subtract">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>1</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Random</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:WithLatestFrom" />
                                                </Expression>
                                                <Expression xsi:type="InputMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Upper" Selector="Item1" />
                                                  </PropertyMappings>
                                                  <Selector>Item2</Selector>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:CreateDiscreteUniform">
                                                    <p1:Lower>0</p1:Lower>
                                                    <p1:Upper>0</p1:Upper>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:WithLatestFrom" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item2</Selector>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:Sample" />
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>ILDs</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:WithLatestFrom" />
                                                </Expression>
                                                <Expression xsi:type="InputMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Value" Selector="Item1" />
                                                  </PropertyMappings>
                                                  <Selector>Item2</Selector>
                                                </Expression>
                                                <Expression xsi:type="Index">
                                                  <Operand xsi:type="IntProperty">
                                                    <Value>0</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="8" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="5" Label="Source1" />
                                                <Edge From="4" To="5" Label="Source2" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="8" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                                <Edge From="9" To="10" Label="Source1" />
                                                <Edge From="10" To="12" Label="Source1" />
                                                <Edge From="11" To="12" Label="Source2" />
                                                <Edge From="12" To="13" Label="Source1" />
                                                <Edge From="13" To="14" Label="Source1" />
                                                <Edge From="14" To="15" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Zip" />
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Merge" />
                                          </Expression>
                                          <Expression xsi:type="Multiply" />
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>ILD</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="0" To="5" Label="Source1" />
                                          <Edge From="1" To="3" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source2" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="24" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="5" To="16" Label="Source1" />
                                          <Edge From="6" To="9" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source2" />
                                          <Edge From="9" To="10" Label="Source1" />
                                          <Edge From="10" To="11" Label="Source1" />
                                          <Edge From="11" To="12" Label="Source1" />
                                          <Edge From="11" To="14" Label="Source1" />
                                          <Edge From="12" To="13" Label="Source1" />
                                          <Edge From="13" To="15" Label="Source1" />
                                          <Edge From="14" To="15" Label="Source2" />
                                          <Edge From="15" To="23" Label="Source1" />
                                          <Edge From="16" To="18" Label="Source1" />
                                          <Edge From="17" To="18" Label="Source2" />
                                          <Edge From="18" To="19" Label="Source1" />
                                          <Edge From="19" To="20" Label="Source1" />
                                          <Edge From="20" To="21" Label="Source1" />
                                          <Edge From="21" To="22" Label="Source1" />
                                          <Edge From="22" To="23" Label="Source2" />
                                          <Edge From="23" To="24" Label="Source2" />
                                          <Edge From="24" To="25" Label="Source1" />
                                          <Edge From="25" To="26" Label="Source1" />
                                          <Edge From="25" To="30" Label="Source1" />
                                          <Edge From="26" To="28" Label="Source1" />
                                          <Edge From="27" To="28" Label="Source2" />
                                          <Edge From="28" To="29" Label="Source1" />
                                          <Edge From="29" To="33" Label="Source1" />
                                          <Edge From="30" To="31" Label="Source1" />
                                          <Edge From="30" To="32" Label="Source1" />
                                          <Edge From="31" To="32" Label="Source2" />
                                          <Edge From="32" To="33" Label="Source2" />
                                          <Edge From="33" To="34" Label="Source1" />
                                          <Edge From="34" To="35" Label="Source1" />
                                          <Edge From="35" To="36" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>ABL</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>IntensityCalculation</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="scr:ExpressionTransform">
                                            <scr:Expression>Item2 + (Item1 / 2)</scr:Expression>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>RightIntensity</Name>
                                          </Expression>
                                          <Expression xsi:type="scr:ExpressionTransform">
                                            <scr:Expression>Item2 - (Item1 / 2)</scr:Expression>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>LeftIntensity</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Zip" />
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="0" To="3" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="5" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source2" />
                                          <Edge From="5" To="6" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                                      <PrintCode>correct_side</PrintCode>
                                      <PrintSubjectName>PrintCode</PrintSubjectName>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>PickRandomSound</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>SetupConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Sounds</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>NewTrialRequest</Name>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>SetupConfig</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Sounds.Count</Selector>
                                          </Expression>
                                          <Expression xsi:type="Subtract">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Random</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="InputMapping">
                                            <PropertyMappings>
                                              <Property Name="Upper" Selector="Item1" />
                                            </PropertyMappings>
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="p1:CreateDiscreteUniform">
                                              <p1:Lower>0</p1:Lower>
                                              <p1:Upper>0</p1:Upper>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="p1:Sample" />
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="Value" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="Index">
                                            <Operand xsi:type="IntProperty">
                                              <Value>0</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Index</Selector>
                                          </Expression>
                                          <Expression xsi:type="MulticastSubject">
                                            <Name>SoundIndex</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="3" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source2" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="17" Label="Source1" />
                                          <Edge From="5" To="13" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="10" Label="Source1" />
                                          <Edge From="9" To="10" Label="Source2" />
                                          <Edge From="10" To="11" Label="Source1" />
                                          <Edge From="11" To="12" Label="Source1" />
                                          <Edge From="12" To="13" Label="Source2" />
                                          <Edge From="13" To="14" Label="Source1" />
                                          <Edge From="14" To="15" Label="Source1" />
                                          <Edge From="15" To="16" Label="Source1" />
                                          <Edge From="16" To="17" Label="Source2" />
                                          <Edge From="17" To="18" Label="Source1" />
                                          <Edge From="18" To="19" Label="Source1" />
                                          <Edge From="19" To="20" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>ResetForcedSide</Name>
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>RepeatTrial != 0</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>RepeatTrial</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>RepeatTrial</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="0" To="12" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="1" To="8" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="5" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="9" Label="Source1" />
                                    <Edge From="8" To="9" Label="Source2" />
                                    <Edge From="9" To="10" Label="Source1" />
                                    <Edge From="10" To="11" Label="Source1" />
                                    <Edge From="11" To="15" Label="Source1" />
                                    <Edge From="12" To="13" Label="Source1" />
                                    <Edge From="13" To="14" Label="Source1" />
                                    <Edge From="14" To="15" Label="Source2" />
                                    <Edge From="15" To="16" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="0" To="4" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="5" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Optogenetics</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>NewTrialRequest</Name>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>RepeatTrial == 0</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>RepeatTrial</Name>
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Random</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p1:CreateContinuousUniform">
                                  <p1:Lower>0</p1:Lower>
                                  <p1:Upper>1</p1:Upper>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p1:Sample" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &gt; 0.3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Optogenetics.OptoRatio</Selector>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="Value" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="GreaterThan">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>0.3</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Optogenetics.UseOpto</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="1" To="5" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="6" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source2" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Optogenetics.OptoRatio</Selector>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="Value" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>0.3</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Optogenetics.UseOpto</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="1" To="5" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="6" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source2" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>OptoTrial</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Optogenetics.UseOpto</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:SubscribeWhen" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="4" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="6" To="10" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="12" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="11" To="12" Label="Source2" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="16" Label="Source1" />
                              <Edge From="14" To="15" Label="Source1" />
                              <Edge From="15" To="16" Label="Source2" />
                              <Edge From="16" To="17" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>ForcedTrialSide</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialLeftButton</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>-1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialRightButton</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="LogicalOr" />
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>!it</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>ForcedTrialSide</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialLeftButton</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>ResetForcedSide</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TrialRightButtonState</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialRightButton</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TrialLeftButtonState</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="0" To="4" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="10" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="3" To="8" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="10" Label="Source2" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source3" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="15" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="14" To="20" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                              <Edge From="18" To="19" Label="Source1" />
                              <Edge From="19" To="20" Label="Source1" />
                              <Edge From="20" To="21" Label="Source1" />
                              <Edge From="21" To="22" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                      </Nodes>
                      <Edges />
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>AutoUpdated</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>BlockPerformance</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>RightAnswers</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialsCompleted</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="MulticastSubject">
                                <Name>BlockPerformance</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>BlockAbortRatio</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialsAborted</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>BlockTrial</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="MulticastSubject">
                                <Name>BlockAbortRatio</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TimedFT</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SoundStart</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>CenterPoke</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Name>IsPokingCNP</scr:Name>
                                <scr:Expression>Value</scr:Expression>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Seconds</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="Subtract" />
                              <Expression xsi:type="Multiply">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1000</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedFT</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LEDStart</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>CenterPoke</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Name>IsPokingCNP</scr:Name>
                                <scr:Expression>Value</scr:Expression>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Seconds</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="Subtract" />
                              <Expression xsi:type="Multiply">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1000</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedOptoOnset</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TimedFT</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TimedOptoOnset</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Subtract" />
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedSoundOnset</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="4" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="8" To="12" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="11" To="12" Label="Source2" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source1" />
                              <Edge From="16" To="18" Label="Source1" />
                              <Edge From="17" To="18" Label="Source2" />
                              <Edge From="18" To="19" Label="Source1" />
                              <Edge From="19" To="20" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>RepeatErrors</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LevelConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>TrialRepetition.RepeatErrors</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>RepeatErrorsButtonState</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>RepeatErrorsButton</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>RepeatErrors</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="SubscribeSubject">
                                  <Name>RepeatErrorsButton</Name>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="MulticastSubject">
                                  <Name>RepeatErrors</Name>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="WorkflowOutput" />
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="SubscribeSubject">
                                  <Name>LevelConfig</Name>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="MemberSelector">
                                  <Selector>TrialRepetition.RepeatErrors</Selector>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="MulticastSubject">
                                  <Name>RepeatErrorsButtonState</Name>
                                </Builder>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Outcome</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == 2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>1</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == 1</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>-1</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -1</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>1</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>2</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>3</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -4</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>4</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -5</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>5</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -6</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>6</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -7</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>7</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -8</scr:Expression>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>ParseOutcome</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="AbortType" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>8</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="Success" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="IntProperty">
                                        <Value>0</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>ParsedOutcome</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="30" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="30" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="30" Label="Source3" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="11" To="30" Label="Source4" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="30" Label="Source5" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                              <Edge From="17" To="30" Label="Source6" />
                              <Edge From="18" To="19" Label="Source1" />
                              <Edge From="19" To="20" Label="Source1" />
                              <Edge From="20" To="30" Label="Source7" />
                              <Edge From="21" To="22" Label="Source1" />
                              <Edge From="22" To="23" Label="Source1" />
                              <Edge From="23" To="30" Label="Source8" />
                              <Edge From="24" To="25" Label="Source1" />
                              <Edge From="25" To="26" Label="Source1" />
                              <Edge From="26" To="30" Label="Source9" />
                              <Edge From="27" To="28" Label="Source1" />
                              <Edge From="28" To="29" Label="Source1" />
                              <Edge From="29" To="30" Label="Source10" />
                              <Edge From="30" To="31" Label="Source1" />
                              <Edge From="31" To="32" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Bias</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>ResponsePoke</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it != Double.NaN</scr:Expression>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it = Double.NaN</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>Add Element</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>PreviousSides</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Concat" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:ToArray" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>Remove First Element</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Concat" />
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>Not Last Element?</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:ElementIndex" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Index</Selector>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>PreviousSides</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Length</Selector>
                                          </Expression>
                                          <Expression xsi:type="Subtract">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="IntProperty">
                                              <Value>0</Value>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="NotEqual" />
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="7" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source2" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Last" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:TakeUntil" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:ToArray" />
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>Empty Array?</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Length</Selector>
                                          </Expression>
                                          <Expression xsi:type="Equal">
                                            <Operand xsi:type="IntProperty">
                                              <Value>0</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="1" To="7" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="2" To="4" Label="Source1" />
                                    <Edge From="3" To="5" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="8" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source2" />
                                    <Edge From="8" To="9" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>PreviousSides</Name>
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>Sum</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="rx:Accumulate" />
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Last" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Convert.ToDouble(it)</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="MulticastSubject">
                                <Name>Bias</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="5" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source2" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="10" To="12" Label="Source1" />
                              <Edge From="11" To="14" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source2" />
                              <Edge From="14" To="15" Label="Source1" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>BiasPerformance</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Name>IsHit</scr:Name>
                                <scr:Expression>it == 2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="Combinator">
                                  <Combinator xsi:type="IntProperty">
                                    <Value>1</Value>
                                  </Combinator>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="DoubleProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Name>IsMiss</scr:Name>
                                <scr:Expression>it != 2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="Combinator">
                                  <Combinator xsi:type="IntProperty">
                                    <Value>0</Value>
                                  </Combinator>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>Add Element</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>HitHistory</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Concat" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:ToArray" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="5" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>Remove First Element</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Concat" />
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>Not Last Element?</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:ElementIndex" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Index</Selector>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>HitHistory</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Length</Selector>
                                          </Expression>
                                          <Expression xsi:type="Subtract">
                                            <Operand xsi:type="IntProperty">
                                              <Value>1</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="IntProperty">
                                              <Value>0</Value>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="NotEqual" />
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="7" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="6" To="7" Label="Source2" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Last" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:TakeUntil" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:ToArray" />
                                    </Expression>
                                    <Expression xsi:type="rx:Condition">
                                      <Name>Empty Array?</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Length</Selector>
                                          </Expression>
                                          <Expression xsi:type="Equal">
                                            <Operand xsi:type="IntProperty">
                                              <Value>0</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="1" To="7" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="2" To="4" Label="Source1" />
                                    <Edge From="3" To="5" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="8" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source2" />
                                    <Edge From="8" To="9" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>HitHistory</Name>
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>Sum</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="rx:Accumulate" />
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Last" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="MulticastSubject">
                                <Name>BiasPerformance</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="0" To="4" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="7" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source2" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="10" To="12" Label="Source1" />
                              <Edge From="11" To="13" Label="Source1" />
                              <Edge From="12" To="13" Label="Source2" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source1" />
                              <Edge From="15" To="16" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                      </Nodes>
                      <Edges />
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>TrialEnd</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>RequestNewTrial</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>true</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>RequestNewTrial</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>RepeatTrial</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == 2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == 1</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>RepeatErrors</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &lt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LevelConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>TrialRepetition.RepeatAborts</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>RepeatTrial</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="0" To="3" Label="Source1" />
                              <Edge From="0" To="7" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="12" Label="Source1" />
                              <Edge From="3" To="5" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="12" Label="Source2" />
                              <Edge From="7" To="10" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source2" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="11" To="12" Label="Source3" />
                              <Edge From="12" To="13" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>IntendedLNP</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &gt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>IntendedLNP</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>LnpTime.Delta</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add" />
                              <Expression xsi:type="rx:Condition">
                                <Name>IntendedLNP &lt;= LNPTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>LnpTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>IntendedLNP &gt; LNPTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>LnpTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThan" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>LnpTime.Target</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>IntendedLNP</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="6" Label="Source1" />
                              <Edge From="2" To="5" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="8" To="10" Label="Source1" />
                              <Edge From="9" To="15" Label="Source1" />
                              <Edge From="10" To="13" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                              <Edge From="12" To="13" Label="Source2" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>BaseRT</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &gt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>BaseRT</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>ReactionTime.Delta</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add" />
                              <Expression xsi:type="rx:Condition">
                                <Name>BaseRT &lt;= RTTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>ReactionTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>ReactionTime.UseMinRt</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="7" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source2" />
                                    <Edge From="7" To="8" Label="Source1" />
                                    <Edge From="8" To="9" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>BaseRT &gt; RTTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>ReactionTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThan" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LevelConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>ReactionTime.UseMinRt</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="7" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source2" />
                                    <Edge From="7" To="8" Label="Source1" />
                                    <Edge From="8" To="9" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>ReactionTime.Target</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>BaseRT</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="6" Label="Source1" />
                              <Edge From="2" To="5" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="8" To="10" Label="Source1" />
                              <Edge From="9" To="15" Label="Source1" />
                              <Edge From="10" To="13" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                              <Edge From="12" To="13" Label="Source2" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TimedRT</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == -2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TimedFT</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>IntendedOptoOnset</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>IntendedSoundOnset</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Add" />
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Subtract" />
                              <Expression xsi:type="Divide">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1000</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TimedRT</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="10" Label="Source1" />
                              <Edge From="2" To="7" Label="Source1" />
                              <Edge From="3" To="5" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source2" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source2" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>BaseSoundOnset</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &gt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>BaseSoundOnset</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>FixationTime.SoundOnsetTime.Delta</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add" />
                              <Expression xsi:type="rx:Condition">
                                <Name>BaseFT &lt;= FTTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>FixationTime.SoundOnsetTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>BaseFT &gt; FTTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>FixationTime.SoundOnsetTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThan" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>FixationTime.SoundOnsetTime.Target</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>BaseSoundOnset</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="6" Label="Source1" />
                              <Edge From="2" To="5" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="8" To="10" Label="Source1" />
                              <Edge From="9" To="15" Label="Source1" />
                              <Edge From="10" To="13" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                              <Edge From="12" To="13" Label="Source2" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>BaseOptoOnset</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &gt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>BaseOptoOnset</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>FixationTime.OptoOnsetTime.Delta</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add" />
                              <Expression xsi:type="rx:Condition">
                                <Name>BaseFT &lt;= FTTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>FixationTime.OptoOnsetTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>BaseFT &gt; FTTarget</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>AnimalConfig</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>FixationTime.OptoOnsetTime.Target</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThan" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="3" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>FixationTime.OptoOnsetTime.Target</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>BaseOptoOnset</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="6" Label="Source1" />
                              <Edge From="2" To="5" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source2" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="8" To="10" Label="Source1" />
                              <Edge From="9" To="15" Label="Source1" />
                              <Edge From="10" To="13" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                              <Edge From="12" To="13" Label="Source2" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TrialsCompleted</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &gt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialsCompleted</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TrialsCompleted</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>RightAnswers</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it == 2</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>RightAnswers</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>RightAnswers</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TrialsAborted</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>it &lt; 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialsAborted</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TrialsAborted</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                      </Nodes>
                      <Edges />
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>PsychometricFunction</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Block</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Delay">
                            <rx:DueTime>PT1S</rx:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>LateralizedILDs</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Length</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="InputMapping">
                          <PropertyMappings>
                            <Property Name="Count" Selector="Item2" />
                          </PropertyMappings>
                          <Selector>Item2</Selector>
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Count" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Range">
                                  <rx:Start>0</rx:Start>
                                  <rx:Count>2</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ToArray" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>NumILDTrials</Name>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>RightAnswersILD</Name>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>PsychophysicalFunction</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>TrialEnd</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ILD</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Item2</Selector>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Outcome</Name>
                              </Expression>
                              <Expression xsi:type="GreaterThan">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>UpdateRightAnswersPerILD</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>RightAnswersILD</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LateralizedILDs</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2</Selector>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>ILD</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="Equal" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Outcome</Name>
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="IntProperty">
                                        <Value>2</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalAnd" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="7" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source2" />
                                    <Edge From="7" To="8" Label="Source1" />
                                    <Edge From="8" To="9" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2</Selector>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>ILD</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="NotEqual" />
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Outcome</Name>
                                    </Expression>
                                    <Expression xsi:type="NotEqual">
                                      <Operand xsi:type="IntProperty">
                                        <Value>2</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:CombineLatest" />
                                    </Expression>
                                    <Expression xsi:type="LogicalOr" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="7" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source2" />
                                    <Edge From="7" To="8" Label="Source1" />
                                    <Edge From="8" To="9" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LateralizedILDs</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Count" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>2</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ToArray" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>RightAnswersILD</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="4" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="4" To="8" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="11" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source2" />
                              <Edge From="11" To="15" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                              <Edge From="17" To="18" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>UpdateTrialsPerILD</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>NumILDTrials</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LateralizedILDs</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2</Selector>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>ILD</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="Equal" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2</Selector>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>ILD</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="NotEqual" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Add">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LateralizedILDs</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Count" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>2</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ToArray" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>NumILDTrials</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="4" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="4" To="8" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="11" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source2" />
                              <Edge From="11" To="15" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="16" Label="Source1" />
                              <Edge From="16" To="17" Label="Source1" />
                              <Edge From="17" To="18" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>UpdatePsychometricFuction</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>1</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>Item2 != 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="scr:ExpressionCondition">
                                <scr:Expression>Item2 == 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ToArray" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="1" To="4" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="6" To="9" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="11" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source2" />
                              <Edge From="11" To="12" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>PsychophysicalFunction</Name>
                        </Expression>
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="10" To="12" Label="Source1" />
                        <Edge From="11" To="12" Label="Source2" />
                        <Edge From="12" To="13" Label="Source1" />
                        <Edge From="13" To="14" Label="Source1" />
                        <Edge From="14" To="15" Label="Source1" />
                        <Edge From="14" To="16" Label="Source1" />
                        <Edge From="15" To="17" Label="Source1" />
                        <Edge From="16" To="17" Label="Source2" />
                        <Edge From="17" To="18" Label="Source1" />
                        <Edge From="18" To="19" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                </Nodes>
                <Edges />
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>GenerateILDArray</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Sound.Ild</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="NumSteps" Selector="NumSteps" />
                      <Property Name="StepSize" Selector="StepSize" />
                      <Property Name="UseLog" Selector="UseLog" />
                      <Property Name="LogBase" Selector="LogBase" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p2:GenerateILDArray">
                      <p2:NumSteps>1</p2:NumSteps>
                      <p2:StepSize>50</p2:StepSize>
                      <p2:UseLog>false</p2:UseLog>
                      <p2:LogBase>2</p2:LogBase>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>ILDs</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Sound.Ild</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="NumSteps" Selector="NumSteps" />
                      <Property Name="StepSize" Selector="StepSize" />
                      <Property Name="UseLog" Selector="UseLog" />
                      <Property Name="LogBase" Selector="LogBase" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p2:GenerateLateralizedILDs">
                      <p2:NumSteps>1</p2:NumSteps>
                      <p2:StepSize>50</p2:StepSize>
                      <p2:UseLog>false</p2:UseLog>
                      <p2:LogBase>2</p2:LogBase>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LateralizedILDs</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>GenerateSideArray</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>NewSideArray</Name>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>GenerateSideArray</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Count" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Range">
                            <rx:Start>0</rx:Start>
                            <rx:Count>0</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Sound.MaxSide</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="LessThan" />
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="3" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>-1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>AnimalConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Sound.MaxSide</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="GreaterThanOrEqual" />
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="3" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ToArray" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="6" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p2:ShuffleArray" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>SideArray</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>PlaySound</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>StartSound</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>StopSound</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Skip">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timer">
                            <rx:DueTime>PT0S</rx:DueTime>
                            <rx:Period>PT9.5S</rx:Period>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>PlaySound</Name>
                        </Expression>
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="p3:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p3:CreatePlaySoundOrFrequencyPayload">
                      <p3:PlaySoundOrFrequency>31</p3:PlaySoundOrFrequency>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>SoundCardCommands</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>WaterDelivery</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>RewardButtonsLogic</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>RewardLeftButton</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>-1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>RewardRightButton</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>WaterDelivery</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>WaterDelivery</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == -1</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>SyringePumps.UsePumps</Selector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateEnableMotorDriverPayload">
                      <pump:EnableMotorDriver>Enabled</pump:EnableMotorDriver>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateEnableProtocolPayload">
                      <pump:EnableProtocol>Enabled</pump:EnableProtocol>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>reward_delivery</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftRewardSteps</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromMillisecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromMilliseconds(it + 100)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Delay (DuckTapeSolution)</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="DueTime" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Delay">
                            <rx:DueTime>PT0.009S</rx:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateEnableMotorDriverPayload">
                      <pump:EnableMotorDriver>Disabled</pump:EnableMotorDriver>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>SyringePumps.UsePumps</Selector>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="BooleanProperty">
                            <Value>false</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>DO1</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorCommands</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == 1</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>SyringePumps.UsePumps</Selector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateEnableMotorDriverPayload">
                      <pump:EnableMotorDriver>Enabled</pump:EnableMotorDriver>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateEnableProtocolPayload">
                      <pump:EnableProtocol>Enabled</pump:EnableProtocol>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>reward_delivery</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightRewardSteps</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromMillisecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromMilliseconds(it + 100)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Delay (DuckTapeSolution)</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="DueTime" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Delay">
                            <rx:DueTime>PT0.009S</rx:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateEnableMotorDriverPayload">
                      <pump:EnableMotorDriver>Disabled</pump:EnableMotorDriver>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>SyringePumps.UsePumps</Selector>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="BooleanProperty">
                            <Value>false</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>DO2</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorCommands</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="1" To="20" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="2" To="17" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="10" Label="Source1" />
                  <Edge From="9" To="10" Label="Source2" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="16" To="38" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="38" Label="Source2" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="20" To="35" Label="Source1" />
                  <Edge From="21" To="22" Label="Source1" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="24" Label="Source1" />
                  <Edge From="24" To="25" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="28" Label="Source1" />
                  <Edge From="27" To="28" Label="Source2" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="30" Label="Source1" />
                  <Edge From="30" To="31" Label="Source1" />
                  <Edge From="31" To="32" Label="Source2" />
                  <Edge From="32" To="33" Label="Source1" />
                  <Edge From="33" To="34" Label="Source1" />
                  <Edge From="34" To="38" Label="Source3" />
                  <Edge From="35" To="36" Label="Source1" />
                  <Edge From="36" To="37" Label="Source1" />
                  <Edge From="37" To="38" Label="Source4" />
                  <Edge From="38" To="39" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>GetPenaltyTime</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == 2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == 1</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>PenaltyTimes.Incorrect</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == -2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>PenaltyTimes.FixationAbort</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it &lt; 0 &amp;&amp; it != -2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>PenaltyTimes.Abort</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>Penalty</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="4" Label="Source1" />
                  <Edge From="0" To="8" Label="Source1" />
                  <Edge From="0" To="12" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="16" Label="Source1" />
                  <Edge From="4" To="7" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source2" />
                  <Edge From="7" To="16" Label="Source2" />
                  <Edge From="8" To="11" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source2" />
                  <Edge From="11" To="16" Label="Source3" />
                  <Edge From="12" To="15" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source2" />
                  <Edge From="15" To="16" Label="Source4" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>AutobiasCorrection</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Bias</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="num:Abs" />
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.CutoffBias</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="LessThan" />
                        <Expression xsi:type="SubscribeSubject">
                          <Name>BiasPerformance</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.PerformanceThreshold</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="GreaterThanOrEqual" />
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="LogicalOr" />
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="BooleanProperty">
                            <Value>false</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="11" Label="Source1" />
                        <Edge From="6" To="9" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source2" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="11" Label="Source2" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                        <Edge From="13" To="14" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.CutoffBias</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="GreaterThanOrEqual" />
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="3" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>BaseReward</Selector>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.CutoffBias</Selector>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.SlopeMultiplier</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="7" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="7" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="7" Label="Source3" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source4" />
                        <Edge From="7" To="8" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item2 * (1 + Item4 * ((Item3 - Item1)/(Item3 - 1)))</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.CutoffBias</Selector>
                        </Expression>
                        <Expression xsi:type="Multiply">
                          <Operand xsi:type="DoubleProperty">
                            <Value>-1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="LessThanOrEqual" />
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="4" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>BaseReward</Selector>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.CutoffBias</Selector>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.SlopeMultiplier</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="7" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="7" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="7" Label="Source3" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source4" />
                        <Edge From="7" To="8" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item2 * ((1 + Item1)/(1 - Item3))</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="num:Abs" />
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.CutoffBias</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="LessThan" />
                        <Expression xsi:type="SubscribeSubject">
                          <Name>BiasPerformance</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>AnimalConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>AutobiasCorrection.PerformanceThreshold</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="GreaterThanOrEqual" />
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="LogicalOr" />
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="11" Label="Source1" />
                        <Edge From="6" To="9" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source2" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="11" Label="Source2" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>BaseReward</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftReward</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item2 * ((1 - Item1)/(1 - Item3))</scr:Expression>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item2 * (1 + Item4 * ((Item3 + Item1)/(Item3 - 1)))</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightReward</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="8" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="1" To="5" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="3" To="15" Label="Source1" />
                  <Edge From="4" To="13" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="6" To="16" Label="Source1" />
                  <Edge From="7" To="13" Label="Source2" />
                  <Edge From="8" To="11" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source2" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source3" />
                  <Edge From="12" To="17" Label="Source2" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="19" Label="Source1" />
                  <Edge From="15" To="17" Label="Source1" />
                  <Edge From="16" To="17" Label="Source3" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source2" />
                  <Edge From="19" To="20" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>ShortTermPerformance</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it &gt; 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it == 2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Add Element</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ShortTermPerformance</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ToArray" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="5" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Length</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" />
                        </Expression>
                        <Expression xsi:type="GreaterThan">
                          <Operand xsi:type="IntProperty">
                            <Value>10</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Remove First Element</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ShortTermPerformance</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>Not Last Element?</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ElementIndex" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Index</Selector>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>HitHistory</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="Subtract">
                                <Operand xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="NotEqual" />
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="7" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source2" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Last" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:TakeUntil" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ToArray" />
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>Empty Array?</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="7" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="2" To="4" Label="Source1" />
                        <Edge From="3" To="5" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="8" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="9" To="10" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Length</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" />
                        </Expression>
                        <Expression xsi:type="LessThanOrEqual">
                          <Operand xsi:type="IntProperty">
                            <Value>25</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>ShortTermPerformance</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it &lt; 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Add Element</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ShortTermAbortRate</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ToArray" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="5" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Length</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" />
                        </Expression>
                        <Expression xsi:type="GreaterThan">
                          <Operand xsi:type="IntProperty">
                            <Value>10</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Remove First Element</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ShortTermAbortRate</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>Not Last Element?</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ElementIndex" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Index</Selector>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PreviousSides</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="Subtract">
                                <Operand xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="NotEqual" />
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="7" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source2" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Last" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:TakeUntil" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ToArray" />
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>Empty Array?</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Length</Selector>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="7" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="2" To="4" Label="Source1" />
                        <Edge From="3" To="5" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="8" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="9" To="10" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Length</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" />
                        </Expression>
                        <Expression xsi:type="LessThanOrEqual">
                          <Operand xsi:type="IntProperty">
                            <Value>25</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>ShortTermAbortRate</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="9" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="3" To="6" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="7" Label="Source1" />
                  <Edge From="6" To="7" Label="Source2" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="10" To="13" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="14" Label="Source1" />
                  <Edge From="13" To="14" Label="Source2" />
                  <Edge From="14" To="15" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>OptogeneticsProtocol</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>OptoOnsetTime</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>LEDOnsetTrigger</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>!Value</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Skip">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>OptoTrial</Name>
                              </Expression>
                              <Expression xsi:type="NotEqual">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>LEDStart</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OptogeneticsButton</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.Voltage</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundOnsetTrigger</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Duration</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT2S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Value</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>EndOpto</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
                    <TimestampSubject>Timestamp</TimestampSubject>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LEDStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="MulticastSubject">
                    <Name>TimedLED</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OptogeneticsButton</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Duration</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT2S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Dac0Voltage" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateDac0VoltagePayload">
                      <p4:Dac0Voltage>0</p4:Dac0Voltage>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>OptoOnsetTime</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>LEDOnsetTrigger</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>!Value</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Skip">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>OptoTrial</Name>
                              </Expression>
                              <Expression xsi:type="NotEqual">
                                <Operand xsi:type="DoubleProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>LEDStart</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OptogeneticsButton</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.Voltage</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundOnsetTrigger</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Duration</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT2S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Value</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>EndOpto</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
                    <TimestampSubject>Timestamp</TimestampSubject>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LEDStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="MulticastSubject">
                    <Name>TimedLED</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OptogeneticsButton</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Duration</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT2S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Dac1Voltage" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateDac1VoltagePayload">
                      <p4:Dac1Voltage>0</p4:Dac1Voltage>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.Mode</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == "Current"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateLedEnablePayload">
                      <p4:LedEnable>LED0</p4:LedEnable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.Mode</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == "Current"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateLedEnablePayload">
                      <p4:LedEnable>LED1</p4:LedEnable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.Mode</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == "TTL"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateLedDisablePayload">
                      <p4:LedDisable>LED0</p4:LedDisable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.Mode</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == "TTL"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateLedDisablePayload">
                      <p4:LedDisable>LED1</p4:LedDisable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.UsePulses</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>!it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>1</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.UsePulses</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>!it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>2</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="BitwiseOr" />
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseEnable" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreatePulseEnablePayload">
                      <p4:PulseEnable>None</p4:PulseEnable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.DutyCycle</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseDutyCycleLed0" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreatePulseDutyCycleLed0Payload">
                      <p4:PulseDutyCycleLed0>50</p4:PulseDutyCycleLed0>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.DutyCycle</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseDutyCycleLed1" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreatePulseDutyCycleLed1Payload">
                      <p4:PulseDutyCycleLed1>50</p4:PulseDutyCycleLed1>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.Frequency</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseFrequencyLed0" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreatePulseFrequencyLed0Payload">
                      <p4:PulseFrequencyLed0>20</p4:PulseFrequencyLed0>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.Frequency</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseFrequencyLed1" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreatePulseFrequencyLed1Payload">
                      <p4:PulseFrequencyLed1>20</p4:PulseFrequencyLed1>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.RampTime</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="RampLed0" Selector="it" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateRampLed0Payload">
                      <p4:RampLed0>1</p4:RampLed0>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.RampTime</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="RampLed1" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateRampLed1Payload">
                      <p4:RampLed1>1</p4:RampLed1>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.RampMode</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it = "None"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it = "Rise"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>5</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it = "Fall"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>10</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it = "Both"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="ByteProperty">
                      <Value>15</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="RampConfig" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p4:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p4:CreateRampConfigPayload">
                      <p4:RampConfig>None</p4:RampConfig>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>CDCommands</Name>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="SubscribeSubject">
                      <Name>CDMessages</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:SubscribeWhen" />
                    </Builder>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="6" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source2" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="32" Label="Source1" />
                  <Edge From="8" To="13" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source2" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="16" Label="Source1" />
                  <Edge From="15" To="16" Label="Source2" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="20" Label="Source1" />
                  <Edge From="19" To="20" Label="Source2" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="21" To="22" Label="Source1" />
                  <Edge From="22" To="30" Label="Source1" />
                  <Edge From="23" To="24" Label="Source1" />
                  <Edge From="24" To="29" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="27" Label="Source1" />
                  <Edge From="27" To="28" Label="Source1" />
                  <Edge From="28" To="29" Label="Source2" />
                  <Edge From="29" To="30" Label="Source2" />
                  <Edge From="30" To="31" Label="Source1" />
                  <Edge From="31" To="32" Label="Source2" />
                  <Edge From="32" To="33" Label="Source1" />
                  <Edge From="33" To="34" Label="Source1" />
                  <Edge From="34" To="141" Label="Source1" />
                  <Edge From="35" To="38" Label="Source1" />
                  <Edge From="36" To="37" Label="Source1" />
                  <Edge From="37" To="38" Label="Source2" />
                  <Edge From="38" To="41" Label="Source1" />
                  <Edge From="39" To="40" Label="Source1" />
                  <Edge From="40" To="41" Label="Source2" />
                  <Edge From="41" To="42" Label="Source1" />
                  <Edge From="42" To="67" Label="Source1" />
                  <Edge From="43" To="48" Label="Source1" />
                  <Edge From="44" To="45" Label="Source1" />
                  <Edge From="45" To="46" Label="Source1" />
                  <Edge From="46" To="47" Label="Source1" />
                  <Edge From="47" To="48" Label="Source2" />
                  <Edge From="48" To="49" Label="Source1" />
                  <Edge From="49" To="51" Label="Source1" />
                  <Edge From="50" To="51" Label="Source2" />
                  <Edge From="51" To="52" Label="Source1" />
                  <Edge From="52" To="53" Label="Source1" />
                  <Edge From="53" To="55" Label="Source1" />
                  <Edge From="54" To="55" Label="Source2" />
                  <Edge From="55" To="56" Label="Source1" />
                  <Edge From="56" To="57" Label="Source1" />
                  <Edge From="57" To="65" Label="Source1" />
                  <Edge From="58" To="59" Label="Source1" />
                  <Edge From="59" To="64" Label="Source1" />
                  <Edge From="60" To="61" Label="Source1" />
                  <Edge From="61" To="62" Label="Source1" />
                  <Edge From="62" To="63" Label="Source1" />
                  <Edge From="63" To="64" Label="Source2" />
                  <Edge From="64" To="65" Label="Source2" />
                  <Edge From="65" To="66" Label="Source1" />
                  <Edge From="66" To="67" Label="Source2" />
                  <Edge From="67" To="68" Label="Source1" />
                  <Edge From="68" To="69" Label="Source1" />
                  <Edge From="69" To="141" Label="Source2" />
                  <Edge From="70" To="71" Label="Source1" />
                  <Edge From="71" To="72" Label="Source1" />
                  <Edge From="72" To="73" Label="Source1" />
                  <Edge From="73" To="141" Label="Source3" />
                  <Edge From="74" To="75" Label="Source1" />
                  <Edge From="75" To="76" Label="Source1" />
                  <Edge From="76" To="77" Label="Source1" />
                  <Edge From="77" To="141" Label="Source4" />
                  <Edge From="78" To="79" Label="Source1" />
                  <Edge From="79" To="80" Label="Source1" />
                  <Edge From="80" To="81" Label="Source1" />
                  <Edge From="81" To="141" Label="Source5" />
                  <Edge From="82" To="83" Label="Source1" />
                  <Edge From="83" To="84" Label="Source1" />
                  <Edge From="84" To="85" Label="Source1" />
                  <Edge From="85" To="141" Label="Source6" />
                  <Edge From="86" To="87" Label="Source1" />
                  <Edge From="87" To="88" Label="Source1" />
                  <Edge From="87" To="90" Label="Source1" />
                  <Edge From="88" To="89" Label="Source1" />
                  <Edge From="89" To="92" Label="Source1" />
                  <Edge From="90" To="91" Label="Source1" />
                  <Edge From="91" To="92" Label="Source2" />
                  <Edge From="92" To="100" Label="Source1" />
                  <Edge From="93" To="94" Label="Source1" />
                  <Edge From="94" To="95" Label="Source1" />
                  <Edge From="94" To="97" Label="Source1" />
                  <Edge From="95" To="96" Label="Source1" />
                  <Edge From="96" To="99" Label="Source1" />
                  <Edge From="97" To="98" Label="Source1" />
                  <Edge From="98" To="99" Label="Source2" />
                  <Edge From="99" To="100" Label="Source2" />
                  <Edge From="100" To="101" Label="Source1" />
                  <Edge From="101" To="102" Label="Source1" />
                  <Edge From="102" To="103" Label="Source1" />
                  <Edge From="103" To="141" Label="Source7" />
                  <Edge From="104" To="105" Label="Source1" />
                  <Edge From="105" To="106" Label="Source1" />
                  <Edge From="106" To="107" Label="Source1" />
                  <Edge From="107" To="141" Label="Source8" />
                  <Edge From="108" To="109" Label="Source1" />
                  <Edge From="109" To="110" Label="Source1" />
                  <Edge From="110" To="111" Label="Source1" />
                  <Edge From="111" To="141" Label="Source9" />
                  <Edge From="112" To="113" Label="Source1" />
                  <Edge From="113" To="114" Label="Source1" />
                  <Edge From="114" To="115" Label="Source1" />
                  <Edge From="115" To="141" Label="Source10" />
                  <Edge From="116" To="117" Label="Source1" />
                  <Edge From="117" To="118" Label="Source1" />
                  <Edge From="118" To="119" Label="Source1" />
                  <Edge From="119" To="141" Label="Source11" />
                  <Edge From="120" To="121" Label="Source1" />
                  <Edge From="121" To="122" Label="Source1" />
                  <Edge From="122" To="123" Label="Source1" />
                  <Edge From="123" To="141" Label="Source12" />
                  <Edge From="124" To="125" Label="Source1" />
                  <Edge From="125" To="126" Label="Source1" />
                  <Edge From="126" To="127" Label="Source1" />
                  <Edge From="127" To="141" Label="Source13" />
                  <Edge From="128" To="129" Label="Source1" />
                  <Edge From="129" To="130" Label="Source1" />
                  <Edge From="129" To="132" Label="Source1" />
                  <Edge From="129" To="134" Label="Source1" />
                  <Edge From="129" To="136" Label="Source1" />
                  <Edge From="130" To="131" Label="Source1" />
                  <Edge From="131" To="138" Label="Source1" />
                  <Edge From="132" To="133" Label="Source1" />
                  <Edge From="133" To="138" Label="Source2" />
                  <Edge From="134" To="135" Label="Source1" />
                  <Edge From="135" To="138" Label="Source3" />
                  <Edge From="136" To="137" Label="Source1" />
                  <Edge From="137" To="138" Label="Source4" />
                  <Edge From="138" To="139" Label="Source1" />
                  <Edge From="139" To="140" Label="Source1" />
                  <Edge From="140" To="141" Label="Source14" />
                  <Edge From="141" To="142" Label="Source1" />
                  <Edge From="142" To="144" Label="Source1" />
                  <Edge From="143" To="144" Label="Source2" />
                  <Edge From="144" To="145" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges />
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Hardware</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>Camera</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="spk:SpinnakerCapture">
                      <spk:Index xsi:nil="true" />
                      <spk:ColorProcessing>Default</spk:ColorProcessing>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>Camera</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Camera.UseCamera</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="5" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Ports.Behavior</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="PortName" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Behavior</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BehaviorCommands</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="beh:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Disabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM87</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>BehaviorMessages</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BehaviorMessages</Name>
                  </Expression>
                  <Expression xsi:type="beh:Parse">
                    <harp:Register xsi:type="beh:TimestampedAnalogData" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>Timestamp</Name>
                  </Expression>
                  <Expression xsi:type="beh:Parse">
                    <harp:Register xsi:type="beh:TimestampedDigitalInputState" />
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>FilterPokeEvents</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Port" />
                        </Expression>
                        <Expression xsi:type="BitwiseAnd">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="beh:DigitalInputs">
                            <Value>DIPort0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SetupConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>LeftPoke.LowToHigh</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SetupConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>LeftPoke.LowToHigh</Selector>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>!Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="rx:DistinctUntilChangedBy">
                          <rx:KeySelector>Item1</rx:KeySelector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="9" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="3" To="6" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="8" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="10" Label="Source1" />
                        <Edge From="9" To="10" Label="Source2" />
                        <Edge From="10" To="11" Label="Source1" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftPoke</Name>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>FilterPokeEvents</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Port" />
                        </Expression>
                        <Expression xsi:type="BitwiseAnd">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="beh:DigitalInputs">
                            <Value>DIPort1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SetupConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>CenterPoke.LowToHigh</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SetupConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>CenterPoke.LowToHigh</Selector>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>!Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="rx:DistinctUntilChangedBy">
                          <rx:KeySelector>Item1</rx:KeySelector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="9" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="3" To="6" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="8" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="10" Label="Source1" />
                        <Edge From="9" To="10" Label="Source2" />
                        <Edge From="10" To="11" Label="Source1" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>CenterPoke</Name>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>FilterPokeEvents</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Port" />
                        </Expression>
                        <Expression xsi:type="BitwiseAnd">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="beh:DigitalInputs">
                            <Value>DIPort2</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SetupConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>RightPoke.LowToHigh</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>SetupConfig</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>RightPoke.LowToHigh</Selector>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>!Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="rx:DistinctUntilChangedBy">
                          <rx:KeySelector>Item1</rx:KeySelector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="9" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="3" To="6" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="8" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="10" Label="Source1" />
                        <Edge From="9" To="10" Label="Source2" />
                        <Edge From="10" To="11" Label="Source1" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightPoke</Name>
                  </Expression>
                  <Expression xsi:type="beh:Parse">
                    <harp:Register xsi:type="beh:TimestampedPortDIOStateEvent" />
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>FilterPokeEvents</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Port" />
                        </Expression>
                        <Expression xsi:type="BitwiseAnd">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="beh:PortDigitalIOS">
                            <Value>DIO0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="rx:DistinctUntilChangedBy">
                          <rx:KeySelector>Item1</rx:KeySelector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="5" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="6" Label="Source1" />
                        <Edge From="5" To="6" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LEDOnsetTrigger</Name>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>FilterPokeEvents</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Port" />
                        </Expression>
                        <Expression xsi:type="BitwiseAnd">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="beh:PortDigitalIOS">
                            <Value>DIO1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>Convert.ToBoolean(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="rx:DistinctUntilChangedBy">
                          <rx:KeySelector>Item1</rx:KeySelector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="5" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="6" Label="Source1" />
                        <Edge From="5" To="6" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>SoundOnsetTrigger</Name>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateLed0CurrentPayload">
                      <beh:Led0Current>10</beh:Led0Current>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateLed1CurrentPayload">
                      <beh:Led1Current>10</beh:Led1Current>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputPulseEnablePayload">
                      <beh:OutputPulseEnable>DOPort0 DOPort1</beh:OutputPulseEnable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it &gt; 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseDOPort0" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreatePulseDOPort0Payload">
                      <beh:PulseDOPort0>10</beh:PulseDOPort0>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedSoundOnset</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Add" />
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it &gt; 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseDOPort1" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreatePulseDOPort1Payload">
                      <beh:PulseDOPort1>20</beh:PulseDOPort1>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it != 2 &amp;&amp; it != 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Lights.PenaltyLight</Selector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Lights.BoxPeriod</Selector>
                        </Expression>
                        <Expression xsi:type="Divide">
                          <Operand xsi:type="DoubleProperty">
                            <Value>2</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Name>FromMillisecondsToTimeSpan</scr:Name>
                          <scr:Expression>TimeSpan.FromMilliseconds(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Period" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timer">
                            <rx:DueTime>PT0S</rx:DueTime>
                            <rx:Period>PT0.5S</rx:Period>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ITIStart</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Skip">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:TakeUntil" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="8" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="9" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it % 2 == 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ITIStart</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Lights.ItiLight</Selector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT0.2S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="Int64Property">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>Led0</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>StartFixation</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Lights.FixationLight</Selector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Lights.PokePeriod</Selector>
                        </Expression>
                        <Expression xsi:type="Divide">
                          <Operand xsi:type="DoubleProperty">
                            <Value>2</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Name>FromMillisecondsToTimeSpan</scr:Name>
                          <scr:Expression>TimeSpan.FromMilliseconds(it)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Period" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timer">
                            <rx:DueTime>PT0S</rx:DueTime>
                            <rx:Period>PT0.5S</rx:Period>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>StartSound</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Skip">
                            <rx:Count>2</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:TakeUntil" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="10" Label="Source1" />
                        <Edge From="6" To="8" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="9" To="10" Label="Source2" />
                        <Edge From="10" To="11" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it % 2 == 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialStart</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>SetupConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Lights.PokeLight</Selector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="Int64Property">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>Led1</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it % 2 != 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="Int64Property">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ITIStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT0.1S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="Int64Property">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputClearPayload">
                      <beh:OutputClear>Led0</beh:OutputClear>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it % 2 != 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>StartSound</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT0.1S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="Int64Property">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputClearPayload">
                      <beh:OutputClear>Led1</beh:OutputClear>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorCommands</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BehaviorMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="6" To="10" Label="Source1" />
                  <Edge From="6" To="17" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="10" To="13" Label="Source1" />
                  <Edge From="10" To="15" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="17" To="20" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="22" To="72" Label="Source1" />
                  <Edge From="23" To="72" Label="Source2" />
                  <Edge From="24" To="72" Label="Source3" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="27" Label="Source1" />
                  <Edge From="27" To="28" Label="Source1" />
                  <Edge From="28" To="72" Label="Source4" />
                  <Edge From="29" To="31" Label="Source1" />
                  <Edge From="30" To="31" Label="Source2" />
                  <Edge From="31" To="32" Label="Source1" />
                  <Edge From="32" To="33" Label="Source1" />
                  <Edge From="33" To="34" Label="Source1" />
                  <Edge From="34" To="35" Label="Source1" />
                  <Edge From="35" To="72" Label="Source5" />
                  <Edge From="36" To="37" Label="Source1" />
                  <Edge From="37" To="38" Label="Source1" />
                  <Edge From="38" To="39" Label="Source1" />
                  <Edge From="39" To="40" Label="Source1" />
                  <Edge From="39" To="56" Label="Source1" />
                  <Edge From="40" To="45" Label="Source1" />
                  <Edge From="41" To="42" Label="Source1" />
                  <Edge From="42" To="43" Label="Source1" />
                  <Edge From="43" To="44" Label="Source1" />
                  <Edge From="44" To="45" Label="Source2" />
                  <Edge From="45" To="46" Label="Source1" />
                  <Edge From="46" To="72" Label="Source6" />
                  <Edge From="47" To="48" Label="Source1" />
                  <Edge From="48" To="49" Label="Source1" />
                  <Edge From="49" To="50" Label="Source1" />
                  <Edge From="49" To="64" Label="Source1" />
                  <Edge From="50" To="54" Label="Source1" />
                  <Edge From="51" To="52" Label="Source1" />
                  <Edge From="52" To="53" Label="Source1" />
                  <Edge From="53" To="54" Label="Source2" />
                  <Edge From="54" To="55" Label="Source1" />
                  <Edge From="55" To="72" Label="Source7" />
                  <Edge From="56" To="62" Label="Source1" />
                  <Edge From="57" To="58" Label="Source1" />
                  <Edge From="58" To="62" Label="Source2" />
                  <Edge From="59" To="60" Label="Source1" />
                  <Edge From="60" To="61" Label="Source1" />
                  <Edge From="61" To="62" Label="Source3" />
                  <Edge From="62" To="63" Label="Source1" />
                  <Edge From="63" To="72" Label="Source8" />
                  <Edge From="64" To="70" Label="Source1" />
                  <Edge From="65" To="67" Label="Source1" />
                  <Edge From="66" To="67" Label="Source2" />
                  <Edge From="67" To="68" Label="Source1" />
                  <Edge From="68" To="69" Label="Source1" />
                  <Edge From="69" To="70" Label="Source2" />
                  <Edge From="70" To="71" Label="Source1" />
                  <Edge From="71" To="72" Label="Source9" />
                  <Edge From="72" To="73" Label="Source1" />
                  <Edge From="73" To="75" Label="Source1" />
                  <Edge From="74" To="75" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Ports.Soundcard</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="PortName" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>SoundCard</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundCardCommands</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p3:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Disabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM17</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>SoundCardMessages</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>PlaySound</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundIndex</Name>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="PlaySoundOrFrequency" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="p3:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p3:CreatePlaySoundOrFrequencyPayload">
                      <p3:PlaySoundOrFrequency>2</p3:PlaySoundOrFrequency>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftIntensity</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Speakers.LeftSlope</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Speakers.LeftIntercept</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>- 20 * (Item1 - Item2.Item2) / Item2.Item1</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftAmp</Name>
                  </Expression>
                  <Expression xsi:type="Multiply">
                    <Operand xsi:type="DoubleProperty">
                      <Value>10</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="AttenuationLeft" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p3:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p3:CreateAttenuationLeftPayload">
                      <p3:AttenuationLeft>588</p3:AttenuationLeft>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightIntensity</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Speakers.RightSlope</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Speakers.RightIntercept</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>- 20 * (Item1 - Item2.Item2) / Item2.Item1</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightAmp</Name>
                  </Expression>
                  <Expression xsi:type="Multiply">
                    <Operand xsi:type="DoubleProperty">
                      <Value>10</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="AttenuationRight" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="p3:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p3:CreateAttenuationRightPayload">
                      <p3:AttenuationRight>75</p3:AttenuationRight>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>SoundCardCommands</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundCardMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="6" To="9" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source2" />
                  <Edge From="9" To="34" Label="Source1" />
                  <Edge From="10" To="16" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="15" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source2" />
                  <Edge From="15" To="16" Label="Source2" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="20" Label="Source1" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="21" To="34" Label="Source2" />
                  <Edge From="22" To="28" Label="Source1" />
                  <Edge From="23" To="24" Label="Source1" />
                  <Edge From="24" To="27" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="27" Label="Source2" />
                  <Edge From="27" To="28" Label="Source2" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="30" Label="Source1" />
                  <Edge From="30" To="31" Label="Source1" />
                  <Edge From="31" To="32" Label="Source1" />
                  <Edge From="32" To="33" Label="Source1" />
                  <Edge From="33" To="34" Label="Source3" />
                  <Edge From="34" To="35" Label="Source1" />
                  <Edge From="35" To="37" Label="Source1" />
                  <Edge From="36" To="37" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Ports.LeftPump</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="PortName" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>LeftSyringePump</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="pump:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Disabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM0</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>LeftPumpMessages</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>SyringePumps.UsePumps</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateProtocolDirectionPayload">
                      <pump:ProtocolDirection>Forward</pump:ProtocolDirection>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftReward</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>SyringePumps.LeftSlope</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>SyringePumps.LeftIntercept</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Convert.ToInt32((Item1 - Item3) / Item2)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftRewardSteps</Name>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="ProtocolStepCount" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateProtocolStepCountPayload">
                      <pump:ProtocolStepCount>75</pump:ProtocolStepCount>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateProtocolPeriodPayload">
                      <pump:ProtocolPeriod>1</pump:ProtocolPeriod>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateStepModePayload">
                      <pump:StepMode>Half</pump:StepMode>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LeftPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftPumpMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="9" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source2" />
                  <Edge From="10" To="22" Label="Source1" />
                  <Edge From="11" To="15" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="12" To="14" Label="Source1" />
                  <Edge From="13" To="15" Label="Source2" />
                  <Edge From="14" To="15" Label="Source3" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="22" Label="Source2" />
                  <Edge From="20" To="22" Label="Source3" />
                  <Edge From="21" To="22" Label="Source4" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="25" Label="Source1" />
                  <Edge From="24" To="25" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Ports.RightPump</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="PortName" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>RightSyringePump</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="pump:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Disabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM0</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>RightPumpMessages</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>SyringePumps.UsePumps</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateProtocolDirectionPayload">
                      <pump:ProtocolDirection>Forward</pump:ProtocolDirection>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightReward</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>SyringePumps.RightSlope</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>SyringePumps.RightIntercept</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Convert.ToInt32((Item1 - Item3) / Item2)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightRewardSteps</Name>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="ProtocolStepCount" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateProtocolStepCountPayload">
                      <pump:ProtocolStepCount>75</pump:ProtocolStepCount>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateProtocolPeriodPayload">
                      <pump:ProtocolPeriod>1</pump:ProtocolPeriod>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="pump:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="pump:CreateStepModePayload">
                      <pump:StepMode>Half</pump:StepMode>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RightPumpCommands</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightPumpMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="9" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source2" />
                  <Edge From="10" To="22" Label="Source1" />
                  <Edge From="11" To="15" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="12" To="14" Label="Source1" />
                  <Edge From="13" To="15" Label="Source2" />
                  <Edge From="14" To="15" Label="Source3" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="22" Label="Source2" />
                  <Edge From="20" To="22" Label="Source3" />
                  <Edge From="21" To="22" Label="Source4" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="25" Label="Source1" />
                  <Edge From="24" To="25" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Ports.Currentdriver</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="PortName" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>CurrentDriver</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CDCommands</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p4:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Disabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM70</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>CDMessages</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.UseOpto</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="9" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="15" To="16" Label="Source1" />
            <Edge From="17" To="18" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Output</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Version" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Data</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialEnd</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>AnimalId</Selector>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="AnimalId" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Batch</Selector>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Batch" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Session.Experimenter</Selector>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Experimenter" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Version" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Trial</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialEnd</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialEnd</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Number" Selector="Item1" />
                      <Property Name="StartTime" Selector="Item2.Value" />
                      <Property Name="EndTime" Selector="Item3.Value" />
                      <Property Name="Duration" Selector="Item4" />
                      <Property Name="TaredStartTime" Selector="Item5" />
                      <Property Name="ComputerStartTime" Selector="Item2.Timestamp" />
                      <Property Name="ComputerEndTime" Selector="Item3.Timestamp" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Trial">
                      <p5:Number>6</p5:Number>
                      <p5:StartTime>9549.493984</p5:StartTime>
                      <p5:TaredStartTime>8.571008000000802</p5:TaredStartTime>
                      <p5:EndTime>9548.408992</p5:EndTime>
                      <p5:Duration>-1.0849920000000566</p5:Duration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Trial" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Block</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>LevelId</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>TrialsPerBlock</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Number" Selector="Item1" />
                      <Property Name="TrainingLevel" Selector="Item2" />
                      <Property Name="TrialsPerBlock" Selector="Item3" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Block">
                      <p5:Number>2</p5:Number>
                      <p5:TrainingLevel>1</p5:TrainingLevel>
                      <p5:TrialsPerBlock>200</p5:TrialsPerBlock>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Block" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Session.Number</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Session.Type</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Session.Box</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Number" Selector="Item1" />
                      <Property Name="Type" Selector="Item2" />
                      <Property Name="Box" Selector="Item3" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Session">
                      <p5:Number>1</p5:Number>
                      <p5:Type>1</p5:Type>
                      <p5:Box>0</p5:Box>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Session" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ABL</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ILD</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundIndex</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftAmp</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightAmp</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Abl" Selector="Item1" />
                      <Property Name="Ild" Selector="Item2" />
                      <Property Name="SoundIndex" Selector="Item3" />
                      <Property Name="LeftAmp" Selector="Item4" />
                      <Property Name="RightAmp" Selector="Item5" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Sound">
                      <p5:Abl>25</p5:Abl>
                      <p5:Ild>50</p5:Ild>
                      <p5:SoundIndex>2</p5:SoundIndex>
                      <p5:LeftAmp>58.807637813270205</p5:LeftAmp>
                      <p5:RightAmp>7.5381710366784285</p5:RightAmp>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Sound" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Iti.Value</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ITIStart</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ITIEnd</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ITIEnd</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ITIStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="IntendedDuration" Selector="Item1" />
                      <Property Name="StartTime" Selector="Item2" />
                      <Property Name="EndTime" Selector="Item3" />
                      <Property Name="TimedDuration" Selector="Item4" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:ITI">
                      <p5:IntendedDuration>1</p5:IntendedDuration>
                      <p5:StartTime>9548.478976</p5:StartTime>
                      <p5:EndTime>9549.492</p5:EndTime>
                      <p5:TimedDuration>1.0130239999998594</p5:TimedDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Iti" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimeToCNP</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MaxWait</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="TimedValue" Selector="Item1" />
                      <Property Name="MaxDuration" Selector="Item2" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:TimeToCnp">
                      <p5:TimedValue>NaN</p5:TimedValue>
                      <p5:MaxDuration>180</p5:MaxDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="TimeToCnp" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BaseOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>FixationTime.OptoExpMean</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="BaseTime" Selector="Item1" />
                      <Property Name="ExpMean" Selector="Item2" />
                      <Property Name="IntendedDuration" Selector="Item3" />
                      <Property Name="TimedDuration" Selector="Item4" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:FixationTimeParts">
                      <p5:BaseTime>10.5</p5:BaseTime>
                      <p5:ExpMean>0</p5:ExpMean>
                      <p5:IntendedDuration>10</p5:IntendedDuration>
                      <p5:TimedDuration>NaN</p5:TimedDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BaseSoundOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>FixationTime.SoundExpMean</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedSoundOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedSoundOnset</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="BaseTime" Selector="Item1" />
                      <Property Name="ExpMean" Selector="Item2" />
                      <Property Name="IntendedDuration" Selector="Item3" />
                      <Property Name="TimedDuration" Selector="Item4" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:FixationTimeParts">
                      <p5:BaseTime>10.5</p5:BaseTime>
                      <p5:ExpMean>0</p5:ExpMean>
                      <p5:IntendedDuration>10</p5:IntendedDuration>
                      <p5:TimedDuration>NaN</p5:TimedDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedSoundOnset</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Add" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedFT</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedFT</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedRT</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it &gt;= 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Divide">
                    <Operand xsi:type="DoubleProperty">
                      <Value>1000</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Add" />
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="OptoOnsetTime" Selector="Item1" />
                      <Property Name="SoundOnsetTime" Selector="Item2" />
                      <Property Name="IntendedDuration" Selector="Item3" />
                      <Property Name="TimedDuration" Selector="Item4" />
                      <Property Name="TotalDuration" Selector="Item5" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:FixationTime">
                      <p5:IntendedDuration>20</p5:IntendedDuration>
                      <p5:TimedDuration>22.079999998823041</p5:TimedDuration>
                      <p5:TotalDuration>22.080243582823041</p5:TotalDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FixationTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BaseRT</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MaxReactionTime</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedRT</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="BaseTime" Selector="Item1" />
                      <Property Name="MaxDuration" Selector="Item2" />
                      <Property Name="TimedDuration" Selector="Item3" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:ReactionTime">
                      <p5:BaseTime>0</p5:BaseTime>
                      <p5:MaxDuration>10</p5:MaxDuration>
                      <p5:TimedDuration>NaN</p5:TimedDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="ReactionTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MaxMt</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedMT</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="MaxDuration" Selector="Item1" />
                      <Property Name="TimedDuration" Selector="Item2" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:MovementTime">
                      <p5:MaxDuration>180</p5:MaxDuration>
                      <p5:TimedDuration>NaN</p5:TimedDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="MovementTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedLNP</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedLNP</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="IntendedDuration" Selector="Item1" />
                      <Property Name="TimedDuration" Selector="Item2" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:LnpTime">
                      <p5:IntendedDuration>0.01</p5:IntendedDuration>
                      <p5:TimedDuration>NaN</p5:TimedDuration>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="LnpTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ResponsePoke</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ParsedOutcome</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BlockPerformance</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BlockAbortRatio</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="ResponsePoke" Selector="Item1" />
                      <Property Name="BlockPerformance" Selector="Item3" />
                      <Property Name="BlockAbortRatio" Selector="Item4" />
                      <Property Name="Success" Selector="Item2.Item2" />
                      <Property Name="AbortType" Selector="Item2.Item1" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Outcome">
                      <p5:ResponsePoke>NaN</p5:ResponsePoke>
                      <p5:Success>-1</p5:Success>
                      <p5:BlockPerformance>0</p5:BlockPerformance>
                      <p5:BlockAbortRatio>0.33333333333333331</p5:BlockAbortRatio>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Outcome" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>PenaltyTimes</Selector>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Incorrect" Selector="Incorrect" />
                      <Property Name="Abort" Selector="Abort" />
                      <Property Name="FixationAbort" Selector="FixationAbort" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:PenaltyTimes">
                      <p5:Incorrect>1</p5:Incorrect>
                      <p5:Abort>1</p5:Abort>
                      <p5:FixationAbort>1</p5:FixationAbort>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="PenaltyTimes" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Bias</Name>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Bias" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftReward</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightReward</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="Left" Selector="Item1" />
                      <Property Name="Right" Selector="Item2" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Reward">
                      <p5:Left>15</p5:Left>
                      <p5:Right>15</p5:Right>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Reward" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RepeatTrial</Name>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="RepeatedTrial" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OptoTrial</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Convert.ToBoolean(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TimedLED</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Mode</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.Voltage</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led0.Power</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.Voltage</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.Led1.Power</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="OptoTrial" Selector="Item1" />
                      <Property Name="Duration" Selector="Item2" />
                      <Property Name="Mode" Selector="Item3" />
                      <Property Name="Led0Voltage" Selector="Item4" />
                      <Property Name="Led0Power" Selector="Item5" />
                      <Property Name="Led1Voltage" Selector="Item6" />
                      <Property Name="Led1Power" Selector="Item7" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Optogenetics">
                      <p5:OptoTrial>false</p5:OptoTrial>
                      <p5:Duration>NaN</p5:Duration>
                      <p5:Led0Voltage>0</p5:Led0Voltage>
                      <p5:Led0Power>0</p5:Led0Power>
                      <p5:Led1Voltage>0</p5:Led1Voltage>
                      <p5:Led1Power>0</p5:Led1Power>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Optogenetics" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:Output">
                      <p5:AnimalId>ANIMAL0000</p5:AnimalId>
                      <p5:Batch>batch_name</p5:Batch>
                      <p5:Experimenter>experimenter_name</p5:Experimenter>
                      <p5:Version>0.3.1</p5:Version>
                      <p5:Bias>NaN</p5:Bias>
                      <p5:RepeatedTrial>true</p5:RepeatedTrial>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p5:SerializeToJson" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>unparsed_out/out_{0}.json</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p6:JsonWriter">
                      <p6:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/unparsed_out/out_161054.json</p6:Path>
                      <p6:Suffix>None</p6:Suffix>
                      <p6:Overwrite>false</p6:Overwrite>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="167" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="167" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="167" Label="Source3" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="167" Label="Source4" />
                  <Edge From="10" To="167" Label="Source5" />
                  <Edge From="11" To="24" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="24" Label="Source2" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="24" Label="Source3" />
                  <Edge From="16" To="18" Label="Source1" />
                  <Edge From="17" To="18" Label="Source2" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="24" Label="Source4" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="20" To="22" Label="Source1" />
                  <Edge From="21" To="22" Label="Source2" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="24" Label="Source5" />
                  <Edge From="24" To="25" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="27" Label="Source1" />
                  <Edge From="27" To="167" Label="Source6" />
                  <Edge From="28" To="33" Label="Source1" />
                  <Edge From="29" To="30" Label="Source1" />
                  <Edge From="30" To="33" Label="Source2" />
                  <Edge From="31" To="32" Label="Source1" />
                  <Edge From="32" To="33" Label="Source3" />
                  <Edge From="33" To="34" Label="Source1" />
                  <Edge From="34" To="35" Label="Source1" />
                  <Edge From="35" To="36" Label="Source1" />
                  <Edge From="36" To="167" Label="Source7" />
                  <Edge From="37" To="38" Label="Source1" />
                  <Edge From="38" To="43" Label="Source1" />
                  <Edge From="39" To="40" Label="Source1" />
                  <Edge From="40" To="43" Label="Source2" />
                  <Edge From="41" To="42" Label="Source1" />
                  <Edge From="42" To="43" Label="Source3" />
                  <Edge From="43" To="44" Label="Source1" />
                  <Edge From="44" To="45" Label="Source1" />
                  <Edge From="45" To="46" Label="Source1" />
                  <Edge From="46" To="167" Label="Source8" />
                  <Edge From="47" To="52" Label="Source1" />
                  <Edge From="48" To="52" Label="Source2" />
                  <Edge From="49" To="52" Label="Source3" />
                  <Edge From="50" To="52" Label="Source4" />
                  <Edge From="51" To="52" Label="Source5" />
                  <Edge From="52" To="53" Label="Source1" />
                  <Edge From="53" To="54" Label="Source1" />
                  <Edge From="54" To="55" Label="Source1" />
                  <Edge From="55" To="167" Label="Source9" />
                  <Edge From="56" To="57" Label="Source1" />
                  <Edge From="57" To="64" Label="Source1" />
                  <Edge From="58" To="64" Label="Source2" />
                  <Edge From="59" To="64" Label="Source3" />
                  <Edge From="60" To="62" Label="Source1" />
                  <Edge From="61" To="62" Label="Source2" />
                  <Edge From="62" To="63" Label="Source1" />
                  <Edge From="63" To="64" Label="Source4" />
                  <Edge From="64" To="65" Label="Source1" />
                  <Edge From="65" To="66" Label="Source1" />
                  <Edge From="66" To="67" Label="Source1" />
                  <Edge From="67" To="167" Label="Source10" />
                  <Edge From="68" To="71" Label="Source1" />
                  <Edge From="69" To="70" Label="Source1" />
                  <Edge From="70" To="71" Label="Source2" />
                  <Edge From="71" To="72" Label="Source1" />
                  <Edge From="72" To="73" Label="Source1" />
                  <Edge From="73" To="74" Label="Source1" />
                  <Edge From="74" To="167" Label="Source11" />
                  <Edge From="75" To="80" Label="Source1" />
                  <Edge From="76" To="77" Label="Source1" />
                  <Edge From="77" To="80" Label="Source2" />
                  <Edge From="78" To="80" Label="Source3" />
                  <Edge From="79" To="80" Label="Source4" />
                  <Edge From="80" To="81" Label="Source1" />
                  <Edge From="81" To="82" Label="Source1" />
                  <Edge From="82" To="102" Label="Source1" />
                  <Edge From="83" To="88" Label="Source1" />
                  <Edge From="84" To="85" Label="Source1" />
                  <Edge From="85" To="88" Label="Source2" />
                  <Edge From="86" To="88" Label="Source3" />
                  <Edge From="87" To="88" Label="Source4" />
                  <Edge From="88" To="89" Label="Source1" />
                  <Edge From="89" To="90" Label="Source1" />
                  <Edge From="90" To="102" Label="Source2" />
                  <Edge From="91" To="93" Label="Source1" />
                  <Edge From="92" To="93" Label="Source2" />
                  <Edge From="93" To="94" Label="Source1" />
                  <Edge From="94" To="102" Label="Source3" />
                  <Edge From="95" To="102" Label="Source4" />
                  <Edge From="96" To="100" Label="Source1" />
                  <Edge From="97" To="98" Label="Source1" />
                  <Edge From="98" To="99" Label="Source1" />
                  <Edge From="99" To="100" Label="Source2" />
                  <Edge From="100" To="101" Label="Source1" />
                  <Edge From="101" To="102" Label="Source5" />
                  <Edge From="102" To="103" Label="Source1" />
                  <Edge From="103" To="104" Label="Source1" />
                  <Edge From="104" To="105" Label="Source1" />
                  <Edge From="105" To="167" Label="Source12" />
                  <Edge From="106" To="110" Label="Source1" />
                  <Edge From="107" To="108" Label="Source1" />
                  <Edge From="108" To="110" Label="Source2" />
                  <Edge From="109" To="110" Label="Source3" />
                  <Edge From="110" To="111" Label="Source1" />
                  <Edge From="111" To="112" Label="Source1" />
                  <Edge From="112" To="113" Label="Source1" />
                  <Edge From="113" To="167" Label="Source13" />
                  <Edge From="114" To="115" Label="Source1" />
                  <Edge From="115" To="117" Label="Source1" />
                  <Edge From="116" To="117" Label="Source2" />
                  <Edge From="117" To="118" Label="Source1" />
                  <Edge From="118" To="119" Label="Source1" />
                  <Edge From="119" To="120" Label="Source1" />
                  <Edge From="120" To="167" Label="Source14" />
                  <Edge From="121" To="123" Label="Source1" />
                  <Edge From="122" To="123" Label="Source2" />
                  <Edge From="123" To="124" Label="Source1" />
                  <Edge From="124" To="125" Label="Source1" />
                  <Edge From="125" To="126" Label="Source1" />
                  <Edge From="126" To="167" Label="Source15" />
                  <Edge From="127" To="131" Label="Source1" />
                  <Edge From="128" To="131" Label="Source3" />
                  <Edge From="129" To="131" Label="Source4" />
                  <Edge From="130" To="131" Label="Source5" />
                  <Edge From="131" To="132" Label="Source1" />
                  <Edge From="132" To="133" Label="Source1" />
                  <Edge From="133" To="134" Label="Source1" />
                  <Edge From="134" To="167" Label="Source16" />
                  <Edge From="135" To="136" Label="Source1" />
                  <Edge From="136" To="137" Label="Source1" />
                  <Edge From="137" To="138" Label="Source1" />
                  <Edge From="138" To="139" Label="Source1" />
                  <Edge From="139" To="167" Label="Source17" />
                  <Edge From="140" To="141" Label="Source1" />
                  <Edge From="141" To="167" Label="Source18" />
                  <Edge From="142" To="144" Label="Source1" />
                  <Edge From="143" To="144" Label="Source2" />
                  <Edge From="144" To="145" Label="Source1" />
                  <Edge From="145" To="146" Label="Source1" />
                  <Edge From="146" To="147" Label="Source1" />
                  <Edge From="147" To="167" Label="Source19" />
                  <Edge From="148" To="149" Label="Source1" />
                  <Edge From="149" To="167" Label="Source20" />
                  <Edge From="150" To="151" Label="Source1" />
                  <Edge From="151" To="163" Label="Source1" />
                  <Edge From="152" To="163" Label="Source2" />
                  <Edge From="153" To="154" Label="Source1" />
                  <Edge From="154" To="163" Label="Source3" />
                  <Edge From="155" To="156" Label="Source1" />
                  <Edge From="156" To="163" Label="Source4" />
                  <Edge From="157" To="158" Label="Source1" />
                  <Edge From="158" To="163" Label="Source5" />
                  <Edge From="159" To="160" Label="Source1" />
                  <Edge From="160" To="163" Label="Source6" />
                  <Edge From="161" To="162" Label="Source1" />
                  <Edge From="162" To="163" Label="Source7" />
                  <Edge From="163" To="164" Label="Source1" />
                  <Edge From="164" To="165" Label="Source1" />
                  <Edge From="165" To="166" Label="Source1" />
                  <Edge From="166" To="167" Label="Source21" />
                  <Edge From="167" To="168" Label="Source1" />
                  <Edge From="168" To="175" Label="Source1" />
                  <Edge From="169" To="172" Label="Source1" />
                  <Edge From="170" To="171" Label="Source1" />
                  <Edge From="171" To="172" Label="Source2" />
                  <Edge From="172" To="173" Label="Source1" />
                  <Edge From="173" To="174" Label="Source1" />
                  <Edge From="174" To="175" Label="Source2" />
                  <Edge From="175" To="177" Label="Source1" />
                  <Edge From="176" To="177" Label="Source2" />
                  <Edge From="177" To="178" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Video</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Camera</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Image</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="cv:ImageWriter">
                      <cv:Path>\\.\pipe\video</cv:Path>
                      <cv:Suffix>None</cv:Suffix>
                      <cv:Overwrite>false</cv:Overwrite>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>-y -f rawvideo -vcodec rawvideo -s </Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Camera.Resolution</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value> -pix_fmt gray  -r </Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Camera.FramesPerSecond</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Convert.ToString(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value> -i \\.\pipe\video -c:v </Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Camera.Codec</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Convert.ToInt32(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>h264</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it == 1</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>h264_amf</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value> -vb 20M </Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Add" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>video_{0}.mp4</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Add" />
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Arguments" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:StartProcess">
                      <io:FileName>"ffmpeg"</io:FileName>
                      <io:Arguments>-y -f rawvideo -vcodec rawvideo -s 1440x1080 -pix_fmt gray  -r 60 -i \\.\pipe\video -c:v 0 -vb 20M C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/JG0001/250527/video_155437.mp4</io:Arguments>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Camera.UseCamera</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="5" To="22" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="22" Label="Source2" />
                  <Edge From="8" To="22" Label="Source3" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="22" Label="Source4" />
                  <Edge From="12" To="22" Label="Source5" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="15" To="18" Label="Source1" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="20" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="20" Label="Source2" />
                  <Edge From="20" To="22" Label="Source6" />
                  <Edge From="21" To="22" Label="Source7" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="29" Label="Source1" />
                  <Edge From="24" To="27" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="27" Label="Source2" />
                  <Edge From="27" To="28" Label="Source1" />
                  <Edge From="28" To="29" Label="Source2" />
                  <Edge From="29" To="30" Label="Source1" />
                  <Edge From="30" To="31" Label="Source1" />
                  <Edge From="31" To="32" Label="Source1" />
                  <Edge From="32" To="38" Label="Source1" />
                  <Edge From="33" To="37" Label="Source1" />
                  <Edge From="34" To="35" Label="Source1" />
                  <Edge From="35" To="36" Label="Source1" />
                  <Edge From="36" To="37" Label="Source2" />
                  <Edge From="37" To="38" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>CameraMetadata</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Camera</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>ChunkData.LineStatusAll</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>cam_metadata_{0}.csv</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/JG0001/250527/cam_metadata_155437.csv</io:FileName>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>None</io:Suffix>
                    <io:IncludeHeader>false</io:IncludeHeader>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SetupConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Camera.UseCamera</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="8" Label="Source1" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="14" Label="Source1" />
                  <Edge From="9" To="13" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source2" />
                  <Edge From="13" To="14" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Logging</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BehaviorMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:GroupByRegister" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>events/behavior_{0}.bin</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:MessageWriter">
                      <harp:FileName>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/events/behavior_161054.bin</harp:FileName>
                      <harp:Suffix>None</harp:Suffix>
                      <harp:Buffered>true</harp:Buffered>
                      <harp:Overwrite>false</harp:Overwrite>
                      <harp:FilterType>Include</harp:FilterType>
                      <harp:MessageType xsi:nil="true" />
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundCardMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:GroupByRegister" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>events/soundcard_{0}.bin</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:MessageWriter">
                      <harp:FileName>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/events/soundcard_161054.bin</harp:FileName>
                      <harp:Suffix>None</harp:Suffix>
                      <harp:Buffered>true</harp:Buffered>
                      <harp:Overwrite>false</harp:Overwrite>
                      <harp:FilterType>Include</harp:FilterType>
                      <harp:MessageType xsi:nil="true" />
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftPumpMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:GroupByRegister" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>events/left_pump_{0}.bin</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:MessageWriter">
                      <harp:FileName>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/events/left_pump_161054.bin</harp:FileName>
                      <harp:Suffix>None</harp:Suffix>
                      <harp:Buffered>true</harp:Buffered>
                      <harp:Overwrite>false</harp:Overwrite>
                      <harp:FilterType>Include</harp:FilterType>
                      <harp:MessageType xsi:nil="true" />
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightPumpMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:GroupByRegister" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>events/right_pump_{0}.bin</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:MessageWriter">
                      <harp:FileName>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/events/right_pump_161054.bin</harp:FileName>
                      <harp:Suffix>None</harp:Suffix>
                      <harp:Buffered>true</harp:Buffered>
                      <harp:Overwrite>false</harp:Overwrite>
                      <harp:FilterType>Include</harp:FilterType>
                      <harp:MessageType xsi:nil="true" />
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CDMessages</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:GroupByRegister" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>events/current_driver_{0}.bin</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="harp:MessageWriter">
                      <harp:FileName>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/events/current_driver_161054.bin</harp:FileName>
                      <harp:Suffix>None</harp:Suffix>
                      <harp:Buffered>true</harp:Buffered>
                      <harp:Overwrite>false</harp:Overwrite>
                      <harp:FilterType>Include</harp:FilterType>
                      <harp:MessageType xsi:nil="true" />
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="8" Label="Source1" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="10" Label="Source1" />
                  <Edge From="9" To="10" Label="Source2" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="19" Label="Source1" />
                  <Edge From="13" To="16" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source2" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source2" />
                  <Edge From="19" To="21" Label="Source1" />
                  <Edge From="20" To="21" Label="Source2" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="30" Label="Source1" />
                  <Edge From="24" To="27" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="27" Label="Source2" />
                  <Edge From="27" To="28" Label="Source1" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="30" Label="Source2" />
                  <Edge From="30" To="32" Label="Source1" />
                  <Edge From="31" To="32" Label="Source2" />
                  <Edge From="33" To="34" Label="Source1" />
                  <Edge From="34" To="41" Label="Source1" />
                  <Edge From="35" To="38" Label="Source1" />
                  <Edge From="36" To="37" Label="Source1" />
                  <Edge From="37" To="38" Label="Source2" />
                  <Edge From="38" To="39" Label="Source1" />
                  <Edge From="39" To="40" Label="Source1" />
                  <Edge From="40" To="41" Label="Source2" />
                  <Edge From="41" To="43" Label="Source1" />
                  <Edge From="42" To="43" Label="Source2" />
                  <Edge From="44" To="45" Label="Source1" />
                  <Edge From="45" To="52" Label="Source1" />
                  <Edge From="46" To="49" Label="Source1" />
                  <Edge From="47" To="48" Label="Source1" />
                  <Edge From="48" To="49" Label="Source2" />
                  <Edge From="49" To="50" Label="Source1" />
                  <Edge From="50" To="51" Label="Source1" />
                  <Edge From="51" To="52" Label="Source2" />
                  <Edge From="52" To="54" Label="Source1" />
                  <Edge From="53" To="54" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>ConfigFiles</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Paths.Animal</Selector>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:ReadAllText">
                      <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/config/animal_test.yml</io:Path>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>config/animal_{0}.yml</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:WriteAllText">
                      <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/config/animal_161054.yml</io:Path>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Append>false</io:Append>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Paths.Setup</Selector>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:ReadAllText">
                      <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/config/setup_test.csv</io:Path>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>config/setup_{0}.csv</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:WriteAllText">
                      <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/config/setup_161054.csv</io:Path>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Append>false</io:Append>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Config</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Paths.Training</Selector>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:ReadAllText">
                      <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/config/training_test.csv</io:Path>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Suffix</Name>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>config/training_{0}.csv</Format>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Path" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="io:WriteAllText">
                      <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output/batch_name/ANIMAL0000/250602/config/training_161054.csv</io:Path>
                      <io:Overwrite>false</io:Overwrite>
                      <io:Append>false</io:Append>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="10" Label="Source1" />
                  <Edge From="4" To="7" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source2" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source2" />
                  <Edge From="10" To="12" Label="Source1" />
                  <Edge From="11" To="12" Label="Source2" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="16" To="23" Label="Source1" />
                  <Edge From="17" To="20" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="20" Label="Source2" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="21" To="22" Label="Source1" />
                  <Edge From="22" To="23" Label="Source2" />
                  <Edge From="23" To="25" Label="Source1" />
                  <Edge From="24" To="25" Label="Source2" />
                  <Edge From="26" To="27" Label="Source1" />
                  <Edge From="27" To="28" Label="Source1" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="36" Label="Source1" />
                  <Edge From="30" To="33" Label="Source1" />
                  <Edge From="31" To="32" Label="Source1" />
                  <Edge From="32" To="33" Label="Source2" />
                  <Edge From="33" To="34" Label="Source1" />
                  <Edge From="34" To="35" Label="Source1" />
                  <Edge From="35" To="36" Label="Source2" />
                  <Edge From="36" To="38" Label="Source1" />
                  <Edge From="37" To="38" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Paths.Output</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="OutputDirPath" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>OutputDirectory</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="OutputDirPath" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p2:GetOutputDir">
                      <p2:OutputDirPath>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/output</p2:OutputDirPath>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Batch</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>AnimalId</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item1 + "/" + Item2 + "/" + Item3 + "/" + DateTime.Now.ToString("yyMMdd") + "/"</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>OutputDirPath</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="6" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="6" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source3" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="11" Label="Source1" />
            <Edge From="10" To="11" Label="Source2" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Input</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>SessionSubjectUpdate</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Session.StartingBlockNumber</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>Block</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Session.StartingTrialNumber</Selector>
                  </Expression>
                  <Expression xsi:type="Subtract">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>Trial</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>FixationTime.OptoOnsetTime.MinValue</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BaseOptoOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>FixationTime.SoundOnsetTime.MinValue</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BaseSoundOnset</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>ReactionTime.UseMinRt</Selector>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="BooleanProperty">
                            <Value>false</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>ReactionTime.MinValue</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BaseRT</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>LnpTime.MinValue</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>IntendedLNP</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="14" To="17" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="16" To="22" Label="Source1" />
                  <Edge From="17" To="20" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="20" Label="Source2" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="21" To="22" Label="Source2" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="27" Label="Source1" />
                  <Edge From="24" To="26" Label="Source1" />
                  <Edge From="25" To="26" Label="Source2" />
                  <Edge From="26" To="27" Label="Source2" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="30" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:ReadAllText">
                <io:Path>config\config.yml</io:Path>
              </Combinator>
            </Expression>
            <Expression xsi:type="p7:DeserializeFromYaml">
              <p7:Type xsi:type="TypeMapping" TypeArguments="p7:Config" />
            </Expression>
            <Expression xsi:type="rx:AsyncSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Paths.Animal</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Path" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:ReadAllText">
                <io:Path>C:/Users/HSP/Documents/BonsaiWorkflows/CDC.SoundLateralizationTask/config/animal_test.yml</io:Path>
              </Combinator>
            </Expression>
            <Expression xsi:type="p8:DeserializeFromYaml">
              <p8:Type xsi:type="TypeMapping" TypeArguments="p8:Animal" />
            </Expression>
            <Expression xsi:type="rx:AsyncSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:ReadAllText">
                <io:Path>config\training.json</io:Path>
              </Combinator>
            </Expression>
            <Expression xsi:type="p9:DeserializeFromJson">
              <p9:Type xsi:type="TypeMapping" TypeArguments="p9:Training" />
            </Expression>
            <Expression xsi:type="rx:AsyncSubject">
              <Name>TrainingConfig</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:ReadAllText">
                <io:Path>config\setup.json</io:Path>
              </Combinator>
            </Expression>
            <Expression xsi:type="p10:DeserializeFromJson">
              <p10:Type xsi:type="TypeMapping" TypeArguments="p10:SetupList" />
            </Expression>
            <Expression xsi:type="rx:AsyncSubject">
              <Name>Setups</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Setups</Selector>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Session.Box</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="Value" Selector="Item2" />
              </PropertyMappings>
              <Selector>Item1</Selector>
            </Expression>
            <Expression xsi:type="Index">
              <Operand xsi:type="IntProperty">
                <Value>0</Value>
              </Operand>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:AsyncSubject">
              <Name>SetupConfig</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Config</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:ReadAllText">
                <io:Path>config\prints.json</io:Path>
              </Combinator>
            </Expression>
            <Expression xsi:type="p11:DeserializeFromJson">
              <p11:Type xsi:type="TypeMapping" TypeArguments="p11:PrintDict" />
            </Expression>
            <Expression xsi:type="rx:AsyncSubject">
              <Name>Prints</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Session.StartingTrainingLevel</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrainingLevel</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrainingLevel</Name>
            </Expression>
            <Expression xsi:type="Subtract">
              <Operand xsi:type="IntProperty">
                <Value>1</Value>
              </Operand>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrainingConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Levels</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="Value" Selector="Item1" />
              </PropertyMappings>
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="Index">
              <Operand xsi:type="IntProperty">
                <Value>0</Value>
              </Operand>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LevelConfig</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrainingConfig</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="11" Label="Source1" />
            <Edge From="10" To="11" Label="Source2" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="14" To="16" Label="Source1" />
            <Edge From="15" To="16" Label="Source2" />
            <Edge From="17" To="18" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="20" To="23" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="22" To="23" Label="Source2" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="24" To="25" Label="Source1" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="27" To="29" Label="Source1" />
            <Edge From="28" To="29" Label="Source2" />
            <Edge From="30" To="31" Label="Source1" />
            <Edge From="31" To="32" Label="Source1" />
            <Edge From="33" To="34" Label="Source1" />
            <Edge From="34" To="35" Label="Source1" />
            <Edge From="36" To="37" Label="Source1" />
            <Edge From="37" To="40" Label="Source1" />
            <Edge From="38" To="39" Label="Source1" />
            <Edge From="39" To="40" Label="Source2" />
            <Edge From="40" To="41" Label="Source1" />
            <Edge From="41" To="42" Label="Source1" />
            <Edge From="42" To="43" Label="Source1" />
            <Edge From="43" To="47" Label="Source1" />
            <Edge From="44" To="46" Label="Source1" />
            <Edge From="45" To="46" Label="Source2" />
            <Edge From="46" To="47" Label="Source2" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>SubjectInitialization</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timer">
                <rx:DueTime>PT0S</rx:DueTime>
                <rx:Period>PT0S</rx:Period>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timestamp" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Timestamp</Selector>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0:HHmmss}</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Suffix</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="harp:CreateTimestamped" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftPoke</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>CenterPoke</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightPoke</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SoundOnsetTrigger</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LEDOnsetTrigger</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Range">
                <rx:Start>0</rx:Start>
                <rx:Count>25</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:ToArray" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>HitHistory</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PreviousSides</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ParsedOutcome</Name>
            </Expression>
            <Expression xsi:type="harp:CreateMessage">
              <harp:MessageType>Write</harp:MessageType>
              <harp:Payload xsi:type="harp:CreateMessagePayload">
                <harp:Address>32</harp:Address>
                <harp:PayloadType>U8</harp:PayloadType>
                <harp:Value>0</harp:Value>
              </harp:Payload>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BehaviorCommands</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SoundCardCommands</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftPumpCommands</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightPumpCommands</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>CDCommands</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="num:CreateRandom">
                <num:Seed xsi:nil="true" />
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Random</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:ToArray" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SideArray</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RepeatErrorsButtonState</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RepeatTrial</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialLeftButtonState</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialRightButtonState</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ResetForcedSide</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:ToArray" />
            </Expression>
            <Expression xsi:type="rx:SelectMany">
              <Name>Remove First Element</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Concat" />
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>Not Last Element?</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ElementIndex" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Index</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="NotEqual" />
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="4" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Last" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:TakeUntil" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToArray" />
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>Empty Array?</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Length</Selector>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="1" To="7" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ShortTermPerformance</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ShortTermAbortRate</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PrintCode</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Print</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>OutputDirPath</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:ToArray" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ILDs</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LateralizedILDs</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PsychophysicalFunction</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightAnswersILD</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>NumILDTrials</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialStart</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LNPStart</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftReward</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightReward</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>WaterDelivery</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftOrRight</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PlaySound</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>StartFixation</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>true</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RequestNewTrial</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:IgnoreElements" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>NewTrialRequest</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RepeatErrors</Name>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>EndOpto</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Block</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BlockTrial</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SoundIndex</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftIntensity</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightIntensity</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>StopSound</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ForcedTrialSide</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Outcome</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>StartSound</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SideIndex</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BaseOptoOnset</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BaseSoundOnset</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BaseRT</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>IntendedLNP</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedFT</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedLED</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>OptoTrial</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BlockAbortRatio</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BlockPerformance</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedLNP</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedMT</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedRT</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedOptoOnset</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimeToCNP</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>IntendedSoundOnset</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TimedSoundOnset</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>IntendedOptoOnset</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftAmp</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightAmp</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ABL</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ILD</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Penalty</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LEDStart</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SoundStart</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>NewSideArray</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightAnswers</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialsAborted</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialsCompleted</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ITIStart</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ITIEnd</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Bias</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>BiasPerformance</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftRewardSteps</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightRewardSteps</Name>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ResponsePoke</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="6" To="8" Label="Source1" />
            <Edge From="7" To="8" Label="Source2" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="15" To="16" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="17" To="18" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="21" To="23" Label="Source1" />
            <Edge From="22" To="23" Label="Source2" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="27" To="28" Label="Source1" />
            <Edge From="28" To="29" Label="Source1" />
            <Edge From="29" To="30" Label="Source1" />
            <Edge From="30" To="31" Label="Source1" />
            <Edge From="32" To="33" Label="Source1" />
            <Edge From="34" To="35" Label="Source1" />
            <Edge From="35" To="36" Label="Source1" />
            <Edge From="36" To="37" Label="Source1" />
            <Edge From="38" To="39" Label="Source1" />
            <Edge From="39" To="40" Label="Source1" />
            <Edge From="41" To="42" Label="Source1" />
            <Edge From="42" To="43" Label="Source1" />
            <Edge From="43" To="44" Label="Source1" />
            <Edge From="44" To="45" Label="Source1" />
            <Edge From="46" To="47" Label="Source1" />
            <Edge From="47" To="48" Label="Source1" />
            <Edge From="48" To="49" Label="Source1" />
            <Edge From="49" To="50" Label="Source1" />
            <Edge From="50" To="51" Label="Source1" />
            <Edge From="52" To="53" Label="Source1" />
            <Edge From="53" To="54" Label="Source1" />
            <Edge From="54" To="55" Label="Source1" />
            <Edge From="55" To="56" Label="Source1" />
            <Edge From="57" To="58" Label="Source1" />
            <Edge From="58" To="59" Label="Source1" />
            <Edge From="59" To="60" Label="Source1" />
            <Edge From="60" To="61" Label="Source1" />
            <Edge From="61" To="62" Label="Source1" />
            <Edge From="62" To="63" Label="Source1" />
            <Edge From="63" To="64" Label="Source1" />
            <Edge From="65" To="66" Label="Source1" />
            <Edge From="66" To="67" Label="Source1" />
            <Edge From="67" To="68" Label="Source1" />
            <Edge From="68" To="69" Label="Source1" />
            <Edge From="69" To="70" Label="Source1" />
            <Edge From="70" To="71" Label="Source1" />
            <Edge From="72" To="73" Label="Source1" />
            <Edge From="73" To="74" Label="Source1" />
            <Edge From="74" To="75" Label="Source1" />
            <Edge From="75" To="76" Label="Source1" />
            <Edge From="76" To="77" Label="Source1" />
            <Edge From="78" To="79" Label="Source1" />
            <Edge From="80" To="81" Label="Source1" />
            <Edge From="81" To="82" Label="Source1" />
            <Edge From="82" To="83" Label="Source1" />
            <Edge From="83" To="84" Label="Source1" />
            <Edge From="85" To="86" Label="Source1" />
            <Edge From="86" To="87" Label="Source1" />
            <Edge From="87" To="88" Label="Source1" />
            <Edge From="88" To="89" Label="Source1" />
            <Edge From="89" To="90" Label="Source1" />
            <Edge From="90" To="91" Label="Source1" />
            <Edge From="91" To="92" Label="Source1" />
            <Edge From="92" To="93" Label="Source1" />
            <Edge From="93" To="94" Label="Source1" />
            <Edge From="94" To="95" Label="Source1" />
            <Edge From="95" To="96" Label="Source1" />
            <Edge From="97" To="98" Label="Source1" />
            <Edge From="98" To="99" Label="Source1" />
            <Edge From="99" To="100" Label="Source1" />
            <Edge From="100" To="101" Label="Source1" />
            <Edge From="101" To="102" Label="Source1" />
            <Edge From="102" To="103" Label="Source1" />
            <Edge From="103" To="104" Label="Source1" />
            <Edge From="104" To="105" Label="Source1" />
            <Edge From="105" To="106" Label="Source1" />
            <Edge From="106" To="107" Label="Source1" />
            <Edge From="107" To="108" Label="Source1" />
            <Edge From="108" To="109" Label="Source1" />
            <Edge From="109" To="110" Label="Source1" />
            <Edge From="110" To="111" Label="Source1" />
            <Edge From="111" To="112" Label="Source1" />
            <Edge From="112" To="113" Label="Source1" />
            <Edge From="113" To="114" Label="Source1" />
            <Edge From="114" To="115" Label="Source1" />
            <Edge From="115" To="116" Label="Source1" />
            <Edge From="116" To="117" Label="Source1" />
            <Edge From="117" To="118" Label="Source1" />
            <Edge From="118" To="119" Label="Source1" />
            <Edge From="119" To="120" Label="Source1" />
            <Edge From="120" To="121" Label="Source1" />
            <Edge From="121" To="122" Label="Source1" />
            <Edge From="122" To="123" Label="Source1" />
            <Edge From="123" To="124" Label="Source1" />
            <Edge From="124" To="125" Label="Source1" />
            <Edge From="125" To="126" Label="Source1" />
            <Edge From="126" To="127" Label="Source1" />
            <Edge From="127" To="128" Label="Source1" />
            <Edge From="128" To="129" Label="Source1" />
            <Edge From="129" To="130" Label="Source1" />
            <Edge From="130" To="131" Label="Source1" />
            <Edge From="131" To="132" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>GUI</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>Prints</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>NewTrial</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>new_trial</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>new_trial</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="1" To="3" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>ITI</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ITIEnd</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ITIStart</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="Subtract" />
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>it.ToString()</scr:Expression>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>iti</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>iti</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="6" Label="Source1" />
                        <Edge From="5" To="6" Label="Source2" />
                        <Edge From="5" To="7" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>CorrectSide</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>LeftOrRight</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -1</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Left</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == 1</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Right</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>correct_side</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>correct_side</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="3" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="5" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="7" Label="Source1" />
                        <Edge From="6" To="7" Label="Source2" />
                        <Edge From="6" To="8" Label="Source2" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>StartTrial</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>start_trial</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>start_trial</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="1" To="3" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Fixation</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>fixation</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>fixation</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="1" To="3" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>FixationTime</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>TimedFT</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>it.ToString()</scr:Expression>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>fixation_time</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>fixation_time</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="2" To="4" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>StimulusPresentation</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>stimulus</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>stimulus</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="1" To="3" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>MovementTime</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>movement_time</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>movement_time</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="1" To="3" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Outcome</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == 2</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Right answer</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == 1</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Wrong answer</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -1</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>CNP Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -2</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Fixation Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -3</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>RT+ Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -4</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>RT- Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -5</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>MT+ Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -6</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>MT- Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -7</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>LNP Abort</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Outcome</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -8</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>IO crash</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>outcome</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>outcome</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="30" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="30" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="30" Label="Source3" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="11" Label="Source1" />
                        <Edge From="11" To="30" Label="Source4" />
                        <Edge From="12" To="13" Label="Source1" />
                        <Edge From="13" To="14" Label="Source1" />
                        <Edge From="14" To="30" Label="Source5" />
                        <Edge From="15" To="16" Label="Source1" />
                        <Edge From="16" To="17" Label="Source1" />
                        <Edge From="17" To="30" Label="Source6" />
                        <Edge From="18" To="19" Label="Source1" />
                        <Edge From="19" To="20" Label="Source1" />
                        <Edge From="20" To="30" Label="Source7" />
                        <Edge From="21" To="22" Label="Source1" />
                        <Edge From="22" To="23" Label="Source1" />
                        <Edge From="23" To="30" Label="Source8" />
                        <Edge From="24" To="25" Label="Source1" />
                        <Edge From="25" To="26" Label="Source1" />
                        <Edge From="26" To="30" Label="Source9" />
                        <Edge From="27" To="28" Label="Source1" />
                        <Edge From="28" To="29" Label="Source1" />
                        <Edge From="29" To="30" Label="Source10" />
                        <Edge From="30" To="32" Label="Source1" />
                        <Edge From="31" To="32" Label="Source2" />
                        <Edge From="31" To="33" Label="Source2" />
                        <Edge From="32" To="33" Label="Source1" />
                        <Edge From="33" To="34" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>PenaltyTime</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Penalty</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>it.ToString()</scr:Expression>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>penalty_time</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>penalty_time</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="2" To="4" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>RewardDelivery</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>WaterDelivery</Name>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == -1</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Left</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="scr:ExpressionCondition">
                          <scr:Expression>it == 1</scr:Expression>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>Right</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PrintCode" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TextToPrint</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Prints</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Prints</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="PrintCode" />
                              </Expression>
                              <Expression xsi:type="Index">
                                <Operand xsi:type="StringProperty">
                                  <Value>reward_delivery</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Text</Selector>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Units</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Item1 + Item2 + " " + Item3</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="7" Label="Source2" />
                              <Edge From="6" To="7" Label="Source3" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Print</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PrintCode</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="PrintCode" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="PrintCode" />
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="StringProperty">
                                        <Value>reward_delivery</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Print</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="3" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="5" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="7" Label="Source1" />
                        <Edge From="6" To="7" Label="Source2" />
                        <Edge From="6" To="8" Label="Source2" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                </Nodes>
                <Edges />
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Rat: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>AnimalId</Selector>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Rat: ANIMAL0000</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Trial: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>BlockTrial</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Trial: 3</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Trials Completed: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialsCompleted</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Trials Completed: 1</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Block: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Block</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Block: 2</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>ILD: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ILD</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value> dB</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>ILD: 50 dB</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>ABL: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ABL</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value> dB</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>ABL: 25 dB</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Learning Stage:</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrainingLevel</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Learning Stage:1</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Current Performance: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>BlockPerformance</Name>
            </Expression>
            <Expression xsi:type="Multiply">
              <Operand xsi:type="DoubleProperty">
                <Value>100</Value>
              </Operand>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString("0.00")</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value> %</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Current Performance: 0.00 %</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Current Abort Rate: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>BlockAbortRatio</Name>
            </Expression>
            <Expression xsi:type="Multiply">
              <Operand xsi:type="DoubleProperty">
                <Value>100</Value>
              </Operand>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString("0.00")</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value> %</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Current Abort Rate: 50.00 %</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Current Fixation Time: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>IntendedOptoOnset</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>IntendedSoundOnset</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString("0.00")</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value> ms</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Current Fixation Time: 20.00 ms</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Current ITI: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>LevelConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Iti.Value</Selector>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value> s</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Current ITI: 1 s</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Bias: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Bias</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>it.ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Bias: NaN</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Optogenetics Trial: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>OptoTrial</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Expression>it == 0</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>No</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Expression>it == 1</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Yes</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Optogenetics Trial: No</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>Time Elapsed: </Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timer">
                <rx:DueTime>PT0S</rx:DueTime>
                <rx:Period>PT1S</rx:Period>
              </Combinator>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Name>FromSecondsToTimeSpan</scr:Name>
              <scr:Expression>TimeSpan.FromSeconds(it).ToString()</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Add" />
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Text" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:LabelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Time Elapsed: 00:00:11</gui:Text>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:TableLayoutPanelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:ColumnCount>1</gui:ColumnCount>
              <gui:RowCount>13</gui:RowCount>
              <gui:ColumnStyles />
              <gui:RowStyles />
              <gui:CellSpans>
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
              </gui:CellSpans>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ILD</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="X" Selector="Item1" />
                <Property Name="Y" Selector="Item2" />
              </PropertyMappings>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CreatePoint2d">
                <cv:X>6</cv:X>
                <cv:Y>50</cv:Y>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>2</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Correct</zg:Label>
                  <zg:Color>Turquoise</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Error</zg:Label>
                  <zg:Color>OrangeRed</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="LessThan">
                    <Operand xsi:type="IntProperty">
                      <Value>0</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Abort</zg:Label>
                  <zg:Color>Black</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="zg:GraphPanelBuilder">
              <zg:ReverseX>false</zg:ReverseX>
              <zg:ReverseY>false</zg:ReverseY>
              <zg:Span xsi:nil="true" />
              <zg:Capacity>80</zg:Capacity>
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin>-60</zg:YMin>
              <zg:YMax>60</zg:YMax>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Outcome</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="X" Selector="Item1" />
                <Property Name="Y" Selector="Item2" />
              </PropertyMappings>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CreatePoint">
                <cv:X>6</cv:X>
                <cv:Y>1</cv:Y>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>2</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Triangle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>CorrectLeft</zg:Label>
                  <zg:Color>Turquoise</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>2</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>TriangleDown</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>CorrectRight</zg:Label>
                  <zg:Color>Turquoise</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Triangle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>ErrorLeft</zg:Label>
                  <zg:Color>OrangeRed</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>TriangleDown</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>ErrorRight</zg:Label>
                  <zg:Color>OrangeRed</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>CNP</zg:Label>
                  <zg:Color>Blue</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-2</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>CNPFixation</zg:Label>
                  <zg:Color>#8080FF</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-3</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>RT+</zg:Label>
                  <zg:Color>Cyan</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-4</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>RT-</zg:Label>
                  <zg:Color>Yellow</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-5</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>MT+</zg:Label>
                  <zg:Color>#FF8000</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-6</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>MT-</zg:Label>
                  <zg:Color>Maroon</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-7</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>LNPFix</zg:Label>
                  <zg:Color>Gray</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-8</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>IOCrash</zg:Label>
                  <zg:Color>Black</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="zg:GraphPanelBuilder">
              <zg:ReverseX>false</zg:ReverseX>
              <zg:ReverseY>false</zg:ReverseY>
              <zg:Span xsi:nil="true" />
              <zg:Capacity>80</zg:Capacity>
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin>-9</zg:YMin>
              <zg:YMax>3</zg:YMax>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>BlockPerformance</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="X" Selector="Item1" />
                <Property Name="Y" Selector="Item2" />
              </PropertyMappings>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CreatePoint2d">
                <cv:X>6</cv:X>
                <cv:Y>0</cv:Y>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Performance</zg:Label>
                  <zg:Color>Turquoise</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ShortTermPerformance</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="p2:CalculateRatio" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="X" Selector="Item1" />
                <Property Name="Y" Selector="Item2" />
              </PropertyMappings>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CreatePoint2d">
                <cv:X>6</cv:X>
                <cv:Y>0</cv:Y>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>PerformanceLast10</zg:Label>
                  <zg:Color>LightSeaGreen</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ShortTermAbortRate</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="p2:CalculateRatio" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="X" Selector="Item1" />
                <Property Name="Y" Selector="Item2" />
              </PropertyMappings>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CreatePoint2d">
                <cv:X>6</cv:X>
                <cv:Y>0.33333333333333331</cv:Y>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>AbortRateLast10</zg:Label>
                  <zg:Color>Black</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="zg:GraphPanelBuilder">
              <zg:ReverseX>false</zg:ReverseX>
              <zg:ReverseY>false</zg:ReverseY>
              <zg:Span xsi:nil="true" />
              <zg:Capacity>80</zg:Capacity>
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>PsychophysicalFunction</Name>
            </Expression>
            <Expression xsi:type="zg:BarGraphBuilder">
              <zg:BaseAxis>X</zg:BaseAxis>
              <zg:BarType>Cluster</zg:BarType>
              <zg:CurveSettings />
              <zg:Capacity>1</zg:Capacity>
              <zg:Min>0</zg:Min>
              <zg:Max>1</zg:Max>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Trial</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TimedRT</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="InputMapping">
              <PropertyMappings>
                <Property Name="X" Selector="Item1" />
                <Property Name="Y" Selector="Item2" />
              </PropertyMappings>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CreatePoint2d">
                <cv:X>6</cv:X>
                <cv:Y>NaN</cv:Y>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>2</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Triangle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Correct</zg:Label>
                  <zg:Color>Turquoise</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>2</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>TriangleDown</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Correct</zg:Label>
                  <zg:Color>Turquoise</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>-1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Triangle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Error</zg:Label>
                  <zg:Color>OrangeRed</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" />
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="IntProperty">
                      <Value>1</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="LogicalAnd" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>TriangleDown</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Error</zg:Label>
                  <zg:Color>OrangeRed</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="LessThan">
                    <Operand xsi:type="IntProperty">
                      <Value>0</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="zg:LineGraphBuilder">
              <zg:SymbolType>Circle</zg:SymbolType>
              <zg:LineWidth>0</zg:LineWidth>
              <zg:CurveSettings>
                <zg:CurveConfiguration>
                  <zg:Label>Abort</zg:Label>
                  <zg:Color>Black</zg:Color>
                </zg:CurveConfiguration>
              </zg:CurveSettings>
              <zg:Capacity xsi:nil="true" />
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="zg:GraphPanelBuilder">
              <zg:ReverseX>false</zg:ReverseX>
              <zg:ReverseY>false</zg:ReverseY>
              <zg:Span xsi:nil="true" />
              <zg:Capacity>80</zg:Capacity>
              <zg:XMin xsi:nil="true" />
              <zg:XMax xsi:nil="true" />
              <zg:YMin xsi:nil="true" />
              <zg:YMax xsi:nil="true" />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:TableLayoutPanelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:ColumnCount>2</gui:ColumnCount>
              <gui:RowCount>3</gui:RowCount>
              <gui:ColumnStyles />
              <gui:RowStyles />
              <gui:CellSpans />
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>Camera</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Image</Selector>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialLeftButtonState</Name>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Checked" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:ToggleButtonBuilder">
              <gui:Name>NextTrialLeftButton</gui:Name>
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Next Trial Left</gui:Text>
              <gui:Checked>false</gui:Checked>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>TrialLeftButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialRightButtonState</Name>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Checked" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:ToggleButtonBuilder">
              <gui:Name>NextTrialRightButton</gui:Name>
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Next Trial Right</gui:Text>
              <gui:Checked>false</gui:Checked>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>TrialRightButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:ButtonBuilder">
              <gui:Name>RewardLeftButton</gui:Name>
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Reward Left</gui:Text>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>RewardLeftButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:ButtonBuilder">
              <gui:Name>RewardRightButton</gui:Name>
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Reward Right</gui:Text>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>RewardRightButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Optogenetics.UseOpto</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Enabled" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:ButtonBuilder">
              <gui:Name>OptogeneticsButton</gui:Name>
              <gui:Enabled>false</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Activate Optogenetics Protocol</gui:Text>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>OptogeneticsButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>RepeatErrorsButtonState</Name>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="Checked" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="gui:ToggleButtonBuilder">
              <gui:Name>RepeatErrorsButton</gui:Name>
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>Repeat Errors</gui:Text>
              <gui:Checked>true</gui:Checked>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>RepeatErrorsButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:ButtonBuilder">
              <gui:Name>EndSessionButton</gui:Name>
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:Text>End Session</gui:Text>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>EndSessionButton</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:TableLayoutPanelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:ColumnCount>2</gui:ColumnCount>
              <gui:RowCount>4</gui:RowCount>
              <gui:ColumnStyles />
              <gui:RowStyles />
              <gui:CellSpans>
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="2" RowSpan="1" />
              </gui:CellSpans>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="SubscribeSubject">
              <Name>Print</Name>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:TableLayoutPanelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:ColumnCount>2</gui:ColumnCount>
              <gui:RowCount>2</gui:RowCount>
              <gui:ColumnStyles />
              <gui:RowStyles />
              <gui:CellSpans>
                <gui:CellSpan ColumnSpan="2" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
              </gui:CellSpans>
            </Expression>
            <Expression xsi:type="VisualizerMapping" />
            <Expression xsi:type="gui:TableLayoutPanelBuilder">
              <gui:Enabled>true</gui:Enabled>
              <gui:Visible>true</gui:Visible>
              <gui:ColumnCount>2</gui:ColumnCount>
              <gui:RowCount>1</gui:RowCount>
              <gui:ColumnStyles>
                <gui:ColumnStyle>
                  <gui:SizeType>Percent</gui:SizeType>
                  <gui:Width>6</gui:Width>
                </gui:ColumnStyle>
                <gui:ColumnStyle>
                  <gui:SizeType>Percent</gui:SizeType>
                  <gui:Width>4</gui:Width>
                </gui:ColumnStyle>
              </gui:ColumnStyles>
              <gui:RowStyles />
              <gui:CellSpans>
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="2" RowSpan="2" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="2" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
                <gui:CellSpan ColumnSpan="1" RowSpan="1" />
              </gui:CellSpans>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="1" To="5" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source2" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="136" Label="Source1" />
            <Edge From="10" To="13" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="12" To="13" Label="Source2" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="15" To="16" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="17" To="136" Label="Source2" />
            <Edge From="18" To="21" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="20" To="21" Label="Source2" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="22" To="23" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="24" To="25" Label="Source1" />
            <Edge From="25" To="136" Label="Source3" />
            <Edge From="26" To="29" Label="Source1" />
            <Edge From="27" To="28" Label="Source1" />
            <Edge From="28" To="29" Label="Source2" />
            <Edge From="29" To="30" Label="Source1" />
            <Edge From="30" To="31" Label="Source1" />
            <Edge From="31" To="32" Label="Source1" />
            <Edge From="32" To="33" Label="Source1" />
            <Edge From="33" To="136" Label="Source4" />
            <Edge From="34" To="38" Label="Source1" />
            <Edge From="35" To="36" Label="Source1" />
            <Edge From="36" To="38" Label="Source2" />
            <Edge From="37" To="38" Label="Source3" />
            <Edge From="38" To="39" Label="Source1" />
            <Edge From="39" To="40" Label="Source1" />
            <Edge From="40" To="41" Label="Source1" />
            <Edge From="41" To="42" Label="Source1" />
            <Edge From="42" To="136" Label="Source5" />
            <Edge From="43" To="47" Label="Source1" />
            <Edge From="44" To="45" Label="Source1" />
            <Edge From="45" To="47" Label="Source2" />
            <Edge From="46" To="47" Label="Source3" />
            <Edge From="47" To="48" Label="Source1" />
            <Edge From="48" To="49" Label="Source1" />
            <Edge From="49" To="50" Label="Source1" />
            <Edge From="50" To="51" Label="Source1" />
            <Edge From="51" To="136" Label="Source6" />
            <Edge From="52" To="55" Label="Source1" />
            <Edge From="53" To="54" Label="Source1" />
            <Edge From="54" To="55" Label="Source2" />
            <Edge From="55" To="56" Label="Source1" />
            <Edge From="56" To="57" Label="Source1" />
            <Edge From="57" To="58" Label="Source1" />
            <Edge From="58" To="59" Label="Source1" />
            <Edge From="59" To="136" Label="Source7" />
            <Edge From="60" To="68" Label="Source1" />
            <Edge From="61" To="65" Label="Source1" />
            <Edge From="62" To="63" Label="Source1" />
            <Edge From="63" To="64" Label="Source1" />
            <Edge From="64" To="65" Label="Source2" />
            <Edge From="65" To="66" Label="Source1" />
            <Edge From="66" To="68" Label="Source2" />
            <Edge From="67" To="68" Label="Source3" />
            <Edge From="68" To="69" Label="Source1" />
            <Edge From="69" To="70" Label="Source1" />
            <Edge From="70" To="71" Label="Source1" />
            <Edge From="71" To="72" Label="Source1" />
            <Edge From="72" To="136" Label="Source8" />
            <Edge From="73" To="81" Label="Source1" />
            <Edge From="74" To="78" Label="Source1" />
            <Edge From="75" To="76" Label="Source1" />
            <Edge From="76" To="77" Label="Source1" />
            <Edge From="77" To="78" Label="Source2" />
            <Edge From="78" To="79" Label="Source1" />
            <Edge From="79" To="81" Label="Source2" />
            <Edge From="80" To="81" Label="Source3" />
            <Edge From="81" To="82" Label="Source1" />
            <Edge From="82" To="83" Label="Source1" />
            <Edge From="83" To="84" Label="Source1" />
            <Edge From="84" To="85" Label="Source1" />
            <Edge From="85" To="136" Label="Source9" />
            <Edge From="86" To="93" Label="Source1" />
            <Edge From="87" To="89" Label="Source1" />
            <Edge From="88" To="89" Label="Source2" />
            <Edge From="89" To="90" Label="Source1" />
            <Edge From="90" To="91" Label="Source1" />
            <Edge From="91" To="93" Label="Source2" />
            <Edge From="92" To="93" Label="Source3" />
            <Edge From="93" To="94" Label="Source1" />
            <Edge From="94" To="95" Label="Source1" />
            <Edge From="95" To="96" Label="Source1" />
            <Edge From="96" To="97" Label="Source1" />
            <Edge From="97" To="136" Label="Source10" />
            <Edge From="98" To="103" Label="Source1" />
            <Edge From="99" To="100" Label="Source1" />
            <Edge From="100" To="101" Label="Source1" />
            <Edge From="101" To="103" Label="Source2" />
            <Edge From="102" To="103" Label="Source3" />
            <Edge From="103" To="104" Label="Source1" />
            <Edge From="104" To="105" Label="Source1" />
            <Edge From="105" To="106" Label="Source1" />
            <Edge From="106" To="107" Label="Source1" />
            <Edge From="107" To="136" Label="Source11" />
            <Edge From="108" To="111" Label="Source1" />
            <Edge From="109" To="110" Label="Source1" />
            <Edge From="110" To="111" Label="Source2" />
            <Edge From="111" To="112" Label="Source1" />
            <Edge From="112" To="113" Label="Source1" />
            <Edge From="113" To="114" Label="Source1" />
            <Edge From="114" To="115" Label="Source1" />
            <Edge From="115" To="136" Label="Source12" />
            <Edge From="116" To="123" Label="Source1" />
            <Edge From="117" To="118" Label="Source1" />
            <Edge From="117" To="120" Label="Source1" />
            <Edge From="118" To="119" Label="Source1" />
            <Edge From="119" To="122" Label="Source1" />
            <Edge From="120" To="121" Label="Source1" />
            <Edge From="121" To="122" Label="Source2" />
            <Edge From="122" To="123" Label="Source2" />
            <Edge From="123" To="124" Label="Source1" />
            <Edge From="124" To="125" Label="Source1" />
            <Edge From="125" To="126" Label="Source1" />
            <Edge From="126" To="127" Label="Source1" />
            <Edge From="127" To="136" Label="Source13" />
            <Edge From="128" To="131" Label="Source1" />
            <Edge From="129" To="130" Label="Source1" />
            <Edge From="130" To="131" Label="Source2" />
            <Edge From="131" To="132" Label="Source1" />
            <Edge From="132" To="133" Label="Source1" />
            <Edge From="133" To="134" Label="Source1" />
            <Edge From="134" To="135" Label="Source1" />
            <Edge From="135" To="136" Label="Source14" />
            <Edge From="136" To="137" Label="Source1" />
            <Edge From="137" To="265" Label="Source1" />
            <Edge From="138" To="144" Label="Source1" />
            <Edge From="139" To="141" Label="Source1" />
            <Edge From="140" To="141" Label="Source2" />
            <Edge From="141" To="142" Label="Source1" />
            <Edge From="142" To="143" Label="Source1" />
            <Edge From="143" To="144" Label="Source2" />
            <Edge From="144" To="145" Label="Source1" />
            <Edge From="145" To="146" Label="Source1" />
            <Edge From="145" To="149" Label="Source1" />
            <Edge From="145" To="152" Label="Source1" />
            <Edge From="146" To="147" Label="Source1" />
            <Edge From="147" To="148" Label="Source1" />
            <Edge From="148" To="155" Label="Source1" />
            <Edge From="149" To="150" Label="Source1" />
            <Edge From="150" To="151" Label="Source1" />
            <Edge From="151" To="155" Label="Source2" />
            <Edge From="152" To="153" Label="Source1" />
            <Edge From="153" To="154" Label="Source1" />
            <Edge From="154" To="155" Label="Source3" />
            <Edge From="155" To="156" Label="Source1" />
            <Edge From="156" To="265" Label="Source2" />
            <Edge From="157" To="163" Label="Source1" />
            <Edge From="158" To="160" Label="Source1" />
            <Edge From="159" To="160" Label="Source2" />
            <Edge From="160" To="161" Label="Source1" />
            <Edge From="161" To="162" Label="Source1" />
            <Edge From="162" To="163" Label="Source2" />
            <Edge From="163" To="164" Label="Source1" />
            <Edge From="164" To="165" Label="Source1" />
            <Edge From="164" To="168" Label="Source1" />
            <Edge From="164" To="171" Label="Source1" />
            <Edge From="164" To="174" Label="Source1" />
            <Edge From="164" To="177" Label="Source1" />
            <Edge From="164" To="180" Label="Source1" />
            <Edge From="164" To="183" Label="Source1" />
            <Edge From="164" To="186" Label="Source1" />
            <Edge From="164" To="189" Label="Source1" />
            <Edge From="164" To="192" Label="Source1" />
            <Edge From="164" To="195" Label="Source1" />
            <Edge From="164" To="198" Label="Source1" />
            <Edge From="165" To="166" Label="Source1" />
            <Edge From="166" To="167" Label="Source1" />
            <Edge From="167" To="201" Label="Source1" />
            <Edge From="168" To="169" Label="Source1" />
            <Edge From="169" To="170" Label="Source1" />
            <Edge From="170" To="201" Label="Source2" />
            <Edge From="171" To="172" Label="Source1" />
            <Edge From="172" To="173" Label="Source1" />
            <Edge From="173" To="201" Label="Source3" />
            <Edge From="174" To="175" Label="Source1" />
            <Edge From="175" To="176" Label="Source1" />
            <Edge From="176" To="201" Label="Source4" />
            <Edge From="177" To="178" Label="Source1" />
            <Edge From="178" To="179" Label="Source1" />
            <Edge From="179" To="201" Label="Source5" />
            <Edge From="180" To="181" Label="Source1" />
            <Edge From="181" To="182" Label="Source1" />
            <Edge From="182" To="201" Label="Source6" />
            <Edge From="183" To="184" Label="Source1" />
            <Edge From="184" To="185" Label="Source1" />
            <Edge From="185" To="201" Label="Source7" />
            <Edge From="186" To="187" Label="Source1" />
            <Edge From="187" To="188" Label="Source1" />
            <Edge From="188" To="201" Label="Source8" />
            <Edge From="189" To="190" Label="Source1" />
            <Edge From="190" To="191" Label="Source1" />
            <Edge From="191" To="201" Label="Source9" />
            <Edge From="192" To="193" Label="Source1" />
            <Edge From="193" To="194" Label="Source1" />
            <Edge From="194" To="201" Label="Source10" />
            <Edge From="195" To="196" Label="Source1" />
            <Edge From="196" To="197" Label="Source1" />
            <Edge From="197" To="201" Label="Source11" />
            <Edge From="198" To="199" Label="Source1" />
            <Edge From="199" To="200" Label="Source1" />
            <Edge From="200" To="201" Label="Source12" />
            <Edge From="201" To="202" Label="Source1" />
            <Edge From="202" To="265" Label="Source3" />
            <Edge From="203" To="209" Label="Source1" />
            <Edge From="204" To="206" Label="Source1" />
            <Edge From="205" To="206" Label="Source2" />
            <Edge From="206" To="207" Label="Source1" />
            <Edge From="207" To="208" Label="Source1" />
            <Edge From="208" To="209" Label="Source2" />
            <Edge From="209" To="210" Label="Source1" />
            <Edge From="210" To="211" Label="Source1" />
            <Edge From="211" To="212" Label="Source1" />
            <Edge From="212" To="235" Label="Source1" />
            <Edge From="213" To="220" Label="Source1" />
            <Edge From="214" To="217" Label="Source1" />
            <Edge From="215" To="216" Label="Source1" />
            <Edge From="216" To="217" Label="Source2" />
            <Edge From="217" To="218" Label="Source1" />
            <Edge From="218" To="219" Label="Source1" />
            <Edge From="219" To="220" Label="Source2" />
            <Edge From="220" To="221" Label="Source1" />
            <Edge From="221" To="222" Label="Source1" />
            <Edge From="222" To="223" Label="Source1" />
            <Edge From="223" To="235" Label="Source2" />
            <Edge From="224" To="231" Label="Source1" />
            <Edge From="225" To="228" Label="Source1" />
            <Edge From="226" To="227" Label="Source1" />
            <Edge From="227" To="228" Label="Source2" />
            <Edge From="228" To="229" Label="Source1" />
            <Edge From="229" To="230" Label="Source1" />
            <Edge From="230" To="231" Label="Source2" />
            <Edge From="231" To="232" Label="Source1" />
            <Edge From="232" To="233" Label="Source1" />
            <Edge From="233" To="234" Label="Source1" />
            <Edge From="234" To="235" Label="Source3" />
            <Edge From="235" To="236" Label="Source1" />
            <Edge From="236" To="265" Label="Source4" />
            <Edge From="237" To="238" Label="Source1" />
            <Edge From="238" To="239" Label="Source1" />
            <Edge From="239" To="265" Label="Source5" />
            <Edge From="240" To="246" Label="Source1" />
            <Edge From="241" To="243" Label="Source1" />
            <Edge From="242" To="243" Label="Source2" />
            <Edge From="243" To="244" Label="Source1" />
            <Edge From="244" To="245" Label="Source1" />
            <Edge From="245" To="246" Label="Source2" />
            <Edge From="246" To="247" Label="Source1" />
            <Edge From="247" To="248" Label="Source1" />
            <Edge From="247" To="251" Label="Source1" />
            <Edge From="247" To="254" Label="Source1" />
            <Edge From="247" To="257" Label="Source1" />
            <Edge From="247" To="260" Label="Source1" />
            <Edge From="248" To="249" Label="Source1" />
            <Edge From="249" To="250" Label="Source1" />
            <Edge From="250" To="263" Label="Source1" />
            <Edge From="251" To="252" Label="Source1" />
            <Edge From="252" To="253" Label="Source1" />
            <Edge From="253" To="263" Label="Source2" />
            <Edge From="254" To="255" Label="Source1" />
            <Edge From="255" To="256" Label="Source1" />
            <Edge From="256" To="263" Label="Source3" />
            <Edge From="257" To="258" Label="Source1" />
            <Edge From="258" To="259" Label="Source1" />
            <Edge From="259" To="263" Label="Source4" />
            <Edge From="260" To="261" Label="Source1" />
            <Edge From="261" To="262" Label="Source1" />
            <Edge From="262" To="263" Label="Source5" />
            <Edge From="263" To="264" Label="Source1" />
            <Edge From="264" To="265" Label="Source6" />
            <Edge From="265" To="266" Label="Source1" />
            <Edge From="266" To="306" Label="Source1" />
            <Edge From="267" To="268" Label="Source1" />
            <Edge From="268" To="269" Label="Source1" />
            <Edge From="269" To="304" Label="Source1" />
            <Edge From="270" To="271" Label="Source1" />
            <Edge From="271" To="272" Label="Source1" />
            <Edge From="272" To="273" Label="Source1" />
            <Edge From="273" To="274" Label="Source1" />
            <Edge From="274" To="300" Label="Source1" />
            <Edge From="275" To="276" Label="Source1" />
            <Edge From="276" To="277" Label="Source1" />
            <Edge From="277" To="278" Label="Source1" />
            <Edge From="278" To="279" Label="Source1" />
            <Edge From="279" To="300" Label="Source2" />
            <Edge From="280" To="281" Label="Source1" />
            <Edge From="281" To="282" Label="Source1" />
            <Edge From="282" To="300" Label="Source3" />
            <Edge From="283" To="284" Label="Source1" />
            <Edge From="284" To="285" Label="Source1" />
            <Edge From="285" To="300" Label="Source4" />
            <Edge From="286" To="287" Label="Source1" />
            <Edge From="287" To="288" Label="Source1" />
            <Edge From="288" To="289" Label="Source1" />
            <Edge From="289" To="290" Label="Source1" />
            <Edge From="290" To="291" Label="Source1" />
            <Edge From="291" To="300" Label="Source5" />
            <Edge From="292" To="293" Label="Source1" />
            <Edge From="293" To="294" Label="Source1" />
            <Edge From="294" To="295" Label="Source1" />
            <Edge From="295" To="296" Label="Source1" />
            <Edge From="296" To="300" Label="Source6" />
            <Edge From="297" To="298" Label="Source1" />
            <Edge From="298" To="299" Label="Source1" />
            <Edge From="299" To="300" Label="Source7" />
            <Edge From="300" To="301" Label="Source1" />
            <Edge From="301" To="304" Label="Source2" />
            <Edge From="302" To="303" Label="Source1" />
            <Edge From="303" To="304" Label="Source3" />
            <Edge From="304" To="305" Label="Source1" />
            <Edge From="305" To="306" Label="Source2" />
            <Edge From="306" To="307" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:Timer">
          <rx:DueTime>PT0S</rx:DueTime>
          <rx:Period>PT0S</rx:Period>
        </Combinator>
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>Inter-TrialInterval</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>ITI</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
                    <TimestampSubject>Timestamp</TimestampSubject>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>ITIStart</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Iti.Value</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT1S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
                    <TimestampSubject>Timestamp</TimestampSubject>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>ITIEnd</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>iti</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="8" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>ITIReset</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CenterPoke</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>IsPokingCNP</Name>
                    <Description>Triggers if the animal is poking the central nose poke and if  ITIReset setting is equal to 1 (not equal to 0)</Description>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>LevelConfig</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Iti.CanReset</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:CombineLatest" />
                        </Expression>
                        <Expression xsi:type="LogicalAnd" />
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
              <PrintCode>iti_reset</PrintCode>
              <PrintSubjectName>PrintCode</PrintSubjectName>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>NewTrialPreparations</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>RequestNewTrial</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>new_trial</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT0.0000001S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>true</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>NewTrialRequest</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>false</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>RequestNewTrial</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>RequestNewTrial</Name>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="BooleanProperty">
                            <Value>false</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>true</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="8" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="10" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source2" />
                  <Edge From="10" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item1</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="0" To="7" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="6" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source2" />
            <Edge From="6" To="8" Label="Source1" />
            <Edge From="7" To="8" Label="Source2" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="10" Label="Source2" />
            <Edge From="10" To="11" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsTrue</scr:Name>
        <scr:Expression>it == 0</scr:Expression>
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>StartTrial</Name>
        <Description />
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
              <PrintCode>start_trial</PrintCode>
              <PrintSubjectName>PrintCode</PrintSubjectName>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>PokeDetection</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CenterPoke</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>IsPokingCNP</scr:Name>
                    <scr:Expression>Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
                    <TimestampSubject>Timestamp</TimestampSubject>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>TrialStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>it &gt;= 0</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>TimeToCNP</Name>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>DOPort0</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorCommands</Name>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>DOPort1</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorCommands</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="7" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source2" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>MaxWait</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MaxWait</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="DueTime" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timer">
                <rx:DueTime>PT3M</rx:DueTime>
                <rx:Period>PT0S</rx:Period>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>-1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="8" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source2" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="10" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsTrue</scr:Name>
        <scr:Expression>it == 0</scr:Expression>
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>FixationTime</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
              <PrintCode>fixation</PrintCode>
              <PrintSubjectName>PrintCode</PrintSubjectName>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>StartFixation</Name>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>FixationTime</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>SoundOnsetTrigger</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Expression>!Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>SoundStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>FixationBroken</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CenterPoke</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>!IsPokingCNP</scr:Name>
                    <scr:Expression>!Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>IsPokingCNP</scr:Name>
                    <scr:Expression>Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="Multiply">
                    <Operand xsi:type="DoubleProperty">
                      <Value>1000</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>TimedFT</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>-2</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="5" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
              <PrintCode>fixation_time</PrintCode>
              <PrintSubjectName>PrintCode</PrintSubjectName>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="3" To="5" Label="Source1" />
            <Edge From="4" To="5" Label="Source2" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsTrue</scr:Name>
        <scr:Expression>it == 0</scr:Expression>
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>Stimulus</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="SubscribeSubject">
              <Name>CenterPoke</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Name>!IsPokingCNP</scr:Name>
              <scr:Expression>!Value</scr:Expression>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Seconds</Selector>
            </Expression>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>PlaySound</Name>
              <Description>Presents the noise stimulus to the animal</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>StartSound</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>stimulus</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
              <TimestampSubject>Timestamp</TimestampSubject>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Seconds</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Subtract" />
            <Expression xsi:type="MulticastSubject">
              <Name>TimedRT</Name>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>RT &gt;= BaseRT</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BaseRT</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="GreaterThanOrEqual" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>UseRT == 0</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>ReactionTime.TurnSoundOff</Selector>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>StopSound</Name>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>UseRT != 0</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>ReactionTime.TurnSoundOff</Selector>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="BooleanProperty">
                      <Value>false</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>RT &lt; BaseRT</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BaseRT</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="LessThan" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>-4</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>StopSound</Name>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>MaxRT</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MaxReactionTime</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="DueTime" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timer">
                <rx:DueTime>PT10S</rx:DueTime>
                <rx:Period>PT0S</rx:Period>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>UseMaxRT != 0</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>ReactionTime.UseMaxRt</Selector>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>-3</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>StopSound</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.UseRt</Selector>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="rx:Sink">
              <Name>EndOpto</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>false</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>EndOpto</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Optogenetics.UseRt</Selector>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="BooleanProperty">
                      <Value>false</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="7" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source2" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="9" To="16" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="10" To="14" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="13" To="25" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="15" To="25" Label="Source2" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="17" To="18" Label="Source1" />
            <Edge From="18" To="25" Label="Source3" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="22" To="23" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="24" To="25" Label="Source4" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="25" To="28" Label="Source1" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="27" To="29" Label="Source1" />
            <Edge From="28" To="29" Label="Source2" />
            <Edge From="29" To="30" Label="Source1" />
            <Edge From="30" To="31" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsTrue</scr:Name>
        <scr:Expression>it == 0</scr:Expression>
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>Decision</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
              <PrintCode>movement_time</PrintCode>
              <PrintSubjectName>PrintCode</PrintSubjectName>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Answer</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftPoke</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>IsPokingLeft</scr:Name>
                    <scr:Expression>Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Sink">
                    <Name>SaveAnswer</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>-1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>ResponsePoke</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightPoke</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>IsPokingRight</scr:Name>
                    <scr:Expression>Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:Sink">
                    <Name>SaveAnswer</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>ResponsePoke</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>LNPStart</Name>
                  </Expression>
                  <Expression xsi:type="rx:Sink">
                    <Name>StopSound</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>StopSound</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="6" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source2" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>CenterPoke</Name>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Name>!IsPokingCNP</scr:Name>
              <scr:Expression>!Value</scr:Expression>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Seconds</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Subtract" />
            <Expression xsi:type="MulticastSubject">
              <Name>TimedMT</Name>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>TimedMT &gt;= MinMT</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MinMovementTime</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="GreaterThanOrEqual" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:SelectMany">
              <Name>LNPTime</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedLNP</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Timestamp</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LNPStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(Math.Max(it, 0))</scr:Expression>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" Selector="it" />
                    </PropertyMappings>
                    <Selector>it</Selector>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>Delay (DuckTapeSolution)</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="DueTime" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Delay">
                            <rx:DueTime>PT0.009S</rx:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
                    <TimestampSubject>Timestamp</TimestampSubject>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftPoke</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>IsLeft</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ResponsePoke</Name>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="IntProperty">
                            <Value>-1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightPoke</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>IsRight</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ResponsePoke</Name>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="IntProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>!IsPokingLNP</scr:Name>
                    <scr:Expression>!(Item2.Value)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2.Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>IsPokingLNP</scr:Name>
                    <scr:Expression>Item2.Value</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1.Seconds</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LNPStart</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Subtract" />
                  <Expression xsi:type="MulticastSubject">
                    <Name>TimedLNP</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>IntendedLNP</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="5" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="13" Label="Source1" />
                  <Edge From="10" To="16" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source2" />
                  <Edge From="13" To="17" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source2" />
                  <Edge From="16" To="17" Label="Source2" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="17" To="20" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="22" Label="Source1" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="21" To="22" Label="Source2" />
                  <Edge From="22" To="24" Label="Source1" />
                  <Edge From="23" To="24" Label="Source2" />
                  <Edge From="24" To="25" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="28" Label="Source1" />
                  <Edge From="27" To="28" Label="Source2" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="30" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Name>TimedLNP &gt;= IntendedLNP</scr:Name>
              <scr:Expression>Item1 &gt;= Item2</scr:Expression>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>EvaluateAnswer</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ResponsePoke</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftOrRight</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>AnswerIsRight</scr:Name>
                    <scr:Expression>Item1 == Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>2</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>AnswerIsWrong</scr:Name>
                    <scr:Expression>Item1 != Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>1</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>Outcome</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>outcome</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="4" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="5" To="8" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="10" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source2" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Name>TimedLNP &lt; IntendedLNP</scr:Name>
              <scr:Expression>Item1 &lt; Item2</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>-7</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>TimedMT &lt; MinMT</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>AnimalConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MinMovementTime</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="LessThan" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>-6</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>MaxMT</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LevelConfig</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>MaxMt</Selector>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="DueTime" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timer">
                <rx:DueTime>PT3M</rx:DueTime>
                <rx:Period>PT0S</rx:Period>
              </Combinator>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>StopSound</Name>
              <Description>Stops the noise stimulus</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>StopSound</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>-5</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>LNPStart</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Skip">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:TakeUntil" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="2" To="6" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source2" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="8" To="16" Label="Source1" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="11" To="14" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="13" To="26" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="15" To="26" Label="Source2" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="17" To="26" Label="Source3" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="22" To="25" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="24" To="25" Label="Source2" />
            <Edge From="25" To="26" Label="Source4" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="27" To="28" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsTrue</scr:Name>
        <scr:Expression>it &gt; 0</scr:Expression>
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>Reward</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>Outcome</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WithLatestFrom" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Name>AnswerIsRight</scr:Name>
              <scr:Expression>it == 2</scr:Expression>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>WaterDelivery</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ResponsePoke</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>WaterDelivery</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="scr:ExpressionCondition">
              <scr:Name>AnswerIsWrong</scr:Name>
              <scr:Expression>it == 1</scr:Expression>
            </Expression>
            <Expression xsi:type="rx:SelectMany">
              <Name>Penalty</Name>
              <Description>FIXME</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Penalty</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timer">
                      <rx:DueTime>PT1S</rx:DueTime>
                      <rx:Period>PT0S</rx:Period>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>penalty_time</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
              <TimestampSubject>Timestamp</TimestampSubject>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Seconds</Selector>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="2" Label="Source1" />
            <Edge From="1" To="2" Label="Source2" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="3" To="6" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="9" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source2" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsFalse</scr:Name>
        <scr:Expression>it &lt;= 0</scr:Expression>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsFalse</scr:Name>
        <scr:Expression>it != 0</scr:Expression>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsFalse</scr:Name>
        <scr:Expression>it != 0</scr:Expression>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsFalse</scr:Name>
        <scr:Expression>it != 0</scr:Expression>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:Merge" />
      </Expression>
      <Expression xsi:type="rx:SelectMany">
        <Name>Abort</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>Outcome</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
              <PrintCode>outcome</PrintCode>
              <PrintSubjectName>PrintCode</PrintSubjectName>
            </Expression>
            <Expression xsi:type="rx:SelectMany">
              <Name>Penalty</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Penalty</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Name>FromSecondsToTimeSpan</scr:Name>
                    <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="DueTime" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timer">
                      <rx:DueTime>PT1S</rx:DueTime>
                      <rx:Period>PT0S</rx:Period>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="Extensions\PrintRequest.bonsai">
                    <PrintCode>penalty_time</PrintCode>
                    <PrintSubjectName>PrintCode</PrintSubjectName>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\TimestampEvent.bonsai">
              <TimestampSubject>Timestamp</TimestampSubject>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Seconds</Selector>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Take">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="scr:ExpressionCondition">
        <scr:Name>IsFalse</scr:Name>
        <scr:Expression>it != 0</scr:Expression>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:Delay">
          <rx:DueTime>PT0.01S</rx:DueTime>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:Merge" />
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:Repeat" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>EndSession</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="SubscribeSubject">
              <Name>AnimalConfig</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Session.Duration</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="DueTime" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Timer">
                <rx:DueTime>PT2H</rx:DueTime>
                <rx:Period>PT0S</rx:Period>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty" />
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>EndSessionButton</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="6" Label="Source1" />
            <Edge From="5" To="6" Label="Source2" />
            <Edge From="6" To="7" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>CloseHardware</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="beh:CreateMessage">
              <harp:MessageType>Write</harp:MessageType>
              <harp:Payload xsi:type="beh:CreateOutputClearPayload">
                <beh:OutputClear>Led0</beh:OutputClear>
              </harp:Payload>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>BehaviorCommands</Name>
            </Expression>
            <Expression xsi:type="beh:CreateMessage">
              <harp:MessageType>Write</harp:MessageType>
              <harp:Payload xsi:type="beh:CreateOutputClearPayload">
                <beh:OutputClear>Led1</beh:OutputClear>
              </harp:Payload>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>BehaviorCommands</Name>
            </Expression>
            <Expression xsi:type="p4:CreateMessage">
              <harp:MessageType>Write</harp:MessageType>
              <harp:Payload xsi:type="p4:CreateDac0VoltagePayload">
                <p4:Dac0Voltage>0</p4:Dac0Voltage>
              </harp:Payload>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>CDCommands</Name>
            </Expression>
            <Expression xsi:type="p4:CreateMessage">
              <harp:MessageType>Write</harp:MessageType>
              <harp:Payload xsi:type="p4:CreateDac1VoltagePayload">
                <p4:Dac1Voltage>0</p4:Dac1Voltage>
              </harp:Payload>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>CDCommands</Name>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:TakeUntil" />
      </Expression>
      <Expression xsi:type="WorkflowOutput" />
    </Nodes>
    <Edges>
      <Edge From="6" To="7" Label="Source1" />
      <Edge From="7" To="8" Label="Source1" />
      <Edge From="7" To="24" Label="Source1" />
      <Edge From="8" To="9" Label="Source1" />
      <Edge From="9" To="10" Label="Source1" />
      <Edge From="9" To="21" Label="Source1" />
      <Edge From="10" To="11" Label="Source1" />
      <Edge From="11" To="12" Label="Source1" />
      <Edge From="11" To="20" Label="Source1" />
      <Edge From="12" To="13" Label="Source1" />
      <Edge From="13" To="14" Label="Source1" />
      <Edge From="13" To="19" Label="Source1" />
      <Edge From="14" To="15" Label="Source1" />
      <Edge From="15" To="16" Label="Source1" />
      <Edge From="15" To="18" Label="Source1" />
      <Edge From="16" To="17" Label="Source1" />
      <Edge From="17" To="26" Label="Source1" />
      <Edge From="18" To="22" Label="Source1" />
      <Edge From="19" To="22" Label="Source2" />
      <Edge From="20" To="22" Label="Source3" />
      <Edge From="21" To="22" Label="Source4" />
      <Edge From="22" To="23" Label="Source1" />
      <Edge From="23" To="26" Label="Source2" />
      <Edge From="24" To="25" Label="Source1" />
      <Edge From="25" To="26" Label="Source3" />
      <Edge From="26" To="27" Label="Source1" />
      <Edge From="27" To="30" Label="Source1" />
      <Edge From="28" To="29" Label="Source1" />
      <Edge From="29" To="30" Label="Source2" />
      <Edge From="30" To="31" Label="Source1" />
    </Edges>
  </Workflow>
</WorkflowBuilder>