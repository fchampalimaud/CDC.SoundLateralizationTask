<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Software Installation | CDC.SoundLateralizationTask </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Software Installation | CDC.SoundLateralizationTask ">
      
      
      <link rel="icon" href="../images/logo.svg">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/fchampalimaud/CDC.SoundLateralizationTask/blob/main/docs/installation/software.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo_white.svg" alt="CDC.SoundLateralizationTask">
            CDC.SoundLateralizationTask
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="software-installation">Software Installation</h1>

<p>The task's software is composed by the Bonsai workflow, which contains the task logic, and by small Python scripts that perform some operations at the beginning and at the end of the a session (namely, parsing both input and output files from/to more human readable formats). In order to facilitate the deployment of the project and with reproducibility in mind, the Bonsai workflow was developed inside a Bonsai environment and the Python scripts uses <a href="https://github.com/astral-sh/uv">uv</a> to create and maintain the Python virtual environment.</p>
<p>To install the task's software, follow the steps:</p>
<ol>
<li>Download the source code from the latest project <a href="https://github.com/fchampalimaud/CDC.SoundLateralizationTask/releases/latest">release</a> and unzip it. Alternatively, clone the <a href="https://github.com/fchampalimaud/CDC.SoundLateralizationTask">repository</a>.</li>
<li>Run <code>./Setup.cmd</code> to install the Bonsai environment and the Python environment. An application window will appear which is used to specify the COM port each Harp device corresponds to and the paths to the configuration files and the output directory.</li>
<li>Download the configuration files templates (<code>animal.yml</code>, <code>setup.csv</code>, <code>training.csv</code>) from the release mentioned in step 1 and place them wherever it's more convenient.</li>
<li>After configuring every parameter present in the application, click on the <code>Update Configuration</code> button. The button will generate the <code>./src/config/config.yml</code> file, which is a hard-coded file used by both the Python scripts and the Bonsai workflow. Close the application window.</li>
</ol>
<div class="CAUTION">
<h5>Caution</h5>
<p>Please don't move or delete the <code>./src/config/config.yml</code> file! If, for some reason, any of the paths or COM ports need to be changed, re-run the <code>Setup.cmd</code> script.</p>
</div>
<h2 id="additional-software">Additional Software</h2>
<h3 id="spinnaker-drivers">Spinnaker Drivers</h3>
<p>In order to use the FLIR camera to record the sessions, the <a href="https://flir.netx.net/file/asset/54630/original/attachment">Spinnaker drivers</a> MUST be installed as well. It's mandatory that the computer has the version 1.29.0.5 of the drivers installed, since the version supported by Spinnaker Bonsai Package. After opening the installer, follow the steps below:</p>
<ol>
<li>Click on <code>Next</code>. Then, accept the terms and click on <code>Next</code> again.</li>
<li>Select <code>Application Development</code> and click on <code>Next</code>.</li>
<li>Deselect <code>GigE Driver</code> and click on <code>Next</code>.</li>
<li>Deselect the <code>I will use GigE Cameras.</code> checkbox and click on <code>Next</code>.</li>
<li>Finally, click on <code>Install</code>.</li>
</ol>
<h3 id="ffmpeg">FFmpeg</h3>
<p>The task's code makes use of the FFmpeg software to save the video recordings in the disk, because it allows the video to be recorded with higher framerates, without loss of image quality and by making a better use of the computer's resources than the native <code>VideoWriter</code> Bonsai node.</p>
<p>FFmpeg can be installed with WinGet by running the following command in the Terminal:</p>
<pre><code>winget install Gyan.FFmpeg
</code></pre>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/fchampalimaud/CDC.SoundLateralizationTask/blob/main/docs/installation/software.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
